<!DOCTYPE html>
<html lang="en">
  <head>
    <title>How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04 | DigitalOcean</title>

<meta name="description" content="When problems arise, sending alerts to the appropriate team significantly speeds up identifying the root cause of an issue, allowing teams to resolve incidents quickly. Prometheus is an open-source monitoring system that collects metrics from...">
<meta name="keywords" content="Monitoring Nginx">

<meta name="og:title" content="How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04 | DigitalOcean">
<meta name="og:description" content="When problems arise, sending alerts to the appropriate team significantly speeds up identifying the root cause of an issue, allowing teams to resolve incidents quickly. Prometheus is an open-source monitoring system that collects metrics from...">
<meta name="og:site_name" content="DigitalOcean">
<meta name="og:type" content="article">
<meta name="og:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

<meta name="twitter:site" content="DigitalOcean">
<meta name="twitter:title" content="How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04 | DigitalOcean">
<meta name="twitter:description" content="When problems arise, sending alerts to the appropriate team significantly speeds up identifying the root cause of an issue, allowing teams to resolve incidents quickly. Prometheus is an open-source monitoring system that collects metrics from...">
<meta name="twitter:creator" content="DigitalOcean">
<meta name="twitter:card" content="photo" />
<meta name="twitter:url" content="https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04"/>
<meta name="twitter:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

  <link rel='canonical' href='https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04'>

<link rel="preconnect" href="https://digitalocean.cdn.prismic.io">
<link rel="preconnect" href="https://hello.myfonts.net">


    <link rel="stylesheet" media="all" href="/assets/community/application-b828e623bec3c41208f9f701850222a0.css" />

    
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="cp8Tw9i9MWSYNjVF4vnjrpzl3IpoFFAHH/LS77HWM2hgSoMTz1BZCP1DnVCjLrN8eA4HMyKKXFmsG+fti8fcMw==" />
    <script src="/assets/community/prerequisites-9a51dfaadf0d3629cc636286133a958d.js"></script>
    <script>
//<![CDATA[

  window.cookieDomain = '.digitalocean.com';

//]]>
</script><script src="https://assets.digitalocean.com/cookieConsent/cookieConsent.js"></script>
<link rel="stylesheet" href="https://assets.digitalocean.com/cookieConsent/cookieConsent.css">

    <script type="text/javascript">
  if(window.analytics=window.analytics||[],window.analytics.included)window.console&&console.error&&console.error("analytics.js included twice");else{window.analytics.included=!0,window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(a),window.analytics.push(n),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(a){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.9",window.analytics.load("puo3uv968t")}
  window.analytics.page();
</script>

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KHWBBT');
</script>
<!-- End Google Tag Manager -->

<script src="/assets/community/internalCookies-d2a3579f6b37d00c8045b16853b90462.js"></script>

      <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="alternate" type="application/rss+xml" title="RSS" href="/community/tutorials/feed">
    <script>
      window.comApp = {
        prefix: '/community',
        svgIconPath: 'https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg',
        railsEnv: 'production',
        rootUrl: 'https://www.digitalocean.com/community',
        algolia_application_id: '6ZHEUVKJ88',
        algolia_api_key: 'c5470567eae7fa1177d43222e18ba086'
      };
    </script>
      <script src="https://go.digitalocean.com/js/forms2/js/forms2.min.js"></script>

    <script src="/assets/community/application-dd2f12c7d68945c016e67a784d8785fc.js"></script>
  </head>
  <body class="feature-filter-bar feature-upvotes tutorials-controller tutorial-single" data-env="production" data-prefix="/community" data-user-id="" data-facebook-app-id="694818843983011"   data-completed-tutorial-id="" data-tutorial-id="2634" data-js="tutorial"
  data-upvote="null"
  data-flagged=""
>
    

    <div class='outside_viewport'>
        <div id="contents-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Contents</h1>
          <button class="close-button icon icon-close-light" data-dismiss="modal" aria-label="close"></button>
        </div>
        <div class="modal-body">
          <div class="table-of-contents-modal"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="top ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="table-of-contents">
    <div data-js="tableOfContentsDesktop"></div>
  </div>
  
  
  
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="bottom ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

    <div id="newsletter-signup-dialog" class="newsletter-signups-dialog" data-newsletter-signup-dialog data-article-target=".content-body">
  <div class="form-message">
  <div class="pull-right">
    <a href="javascript:;" class="newsletter-signups-dialog-dismiss" data-newsletter-signup-dismiss>&times;</a>

  </div>
  <h4 class="newsletter-signups-dialog-title">
    Sign up for our newsletter.
  </h4>
  <p class="newsletter-signups-dialog-description">
    Get the latest tutorials on SysAdmin and open source topics.
  </p>
  <form class="newsletter-signup" id="new_newsletter_signup" data-newsletter-signup="true" action="/community/newsletter" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

  <input data-newsletter-signup-field="url" type="hidden" name="newsletter_signup[url]" id="newsletter_signup_url" />
  <input data-newsletter-signup-field="title" type="hidden" name="newsletter_signup[title]" id="newsletter_signup_title" />

  <div class="newsletter-signup-ajax-error" data-newsletter-signup-ajax-error></div>


  <div class="form-group">
    <input placeholder="Enter your email address" required="required" class="field" type="email" name="newsletter_signup[email]" id="newsletter_signup_email" />
  </div>

  <button data-disable-with="Sign Up" class="button blue-button">
    Sign Up
  </button>

</form>

</div>

<div class="thanks-message hidden" data-newsletter-signup-successful> 
  <div class='pull-right'> 
    <a href='javascript:;' class='newsletter-signups-dialog-dismiss icon icon-close-light' data-newsletter-signup-dismiss></a> 
  </div> 

  <span class='newsletter-signups-dialog-success'> 
    Thanks for signing up! 
  </span> 
</div>

</div>


      
    </div>

      
      
<div style="display: none;">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="do_nav-logo" xmlns="http://www.w3.org/2000/svg"> <title>DigitalOcean home</title> <g fill="currentColor" fill-rule="evenodd"> <path d="M14.4942 29v-5.5674c5.9572 0 10.5633-5.8478 8.2892-12.059-.8425-2.3006-2.693-4.1355-5.0126-4.9706-6.262-2.2534-12.1564 2.3135-12.1573 8.2207 0 0-.0006.0014-.0014.0014H0C0 5.2123 9.1687-2.1167 19.1138.9624c4.3459 1.3457 7.7993 4.7708 9.1561 9.081C31.3742 19.9068 23.985 29 14.4942 29"></path> <path d="M14.507 23.4468H8.9103v-5.549s.0005-.0011.0011-.0011h5.5949c.0006 0 .0009.0006.0009.0006v5.5495M8.9093 27.7118H4.6105l-.0012-.0012v-4.2638h4.3009v4.2638l-.0009.0012M4.6125 23.4468H1.0088c-.0015 0-.0026-.0012-.0026-.0012v-3.5724s.0011-.0025.0026-.0025h3.601c.0015 0 .0027.0011.0027.0011v3.575M43.2806 9.6357h1.649c1.8346 0 3.345.358 4.49 1.0647 1.2714.7603 1.9164 2.2069 1.9164 4.2991 0 2.1554-.6465 3.6671-1.9207 4.4942h-.0008c-1.0971.7196-2.5981 1.0846-4.462 1.0846h-1.6719V9.6357zm8.324-1.0736c-1.6598-1.142-3.7252-1.721-6.1387-1.721h-5.2537V23.373h5.2537c2.4074 0 4.4737-.6113 6.1407-1.8157.907-.6382 1.6197-1.5304 2.1185-2.651.4962-1.1144.7479-2.4288.7479-3.9067 0-1.4605-.2517-2.758-.7482-3.857-.4988-1.104-1.212-1.972-2.1202-2.5804zM58.1303 6.6376c-.5051 0-.9403.1777-1.2906.5254-.3546.335-.5346.7597-.5346 1.2618 0 .501.1791.9322.532 1.2825.3529.35.788.528 1.2932.528.5042 0 .9394-.178 1.2928-.528.3535-.3508.5324-.7821.5324-1.2825 0-.5015-.18-.926-.5324-1.2592-.3534-.3503-.7886-.528-1.2928-.528M56.6247 23.3729h2.9538V11.7294h-2.9538zM69.5321 19.5787c-.5162.5814-1.1793.8635-2.0264.8635-.8471 0-1.5064-.282-2.015-.863-.5065-.5777-.7637-1.3439-.7637-2.2773 0-.9479.2572-1.7238.764-2.3058.502-.576 1.1796-.8683 2.0147-.8683.8465 0 1.5096.284 2.0262.8695.5142.582.7751 1.3573.7751 2.3046 0 .9328-.2609 1.6988-.7749 2.2768zm.775-6.8767c-.8908-.7858-1.8858-1.2444-2.9614-1.2444-1.6305 0-2.9859.5598-4.0276 1.662-1.0555 1.0932-1.5907 2.5006-1.5907 4.1823 0 1.644.5269 3.0464 1.568 4.1709 1.0498 1.088 2.4123 1.6396 4.0503 1.6396 1.139 0 2.1182-.3144 2.9157-.9356v.268c0 .9662-.2608 1.7176-.7751 2.234-.5137.5154-1.226.7764-2.1173.7764-1.3637 0-2.2183-.5314-3.2589-1.9262l-2.0115 1.917.0542.0754c.4346.605 1.1 1.197 1.9785 1.7594.8787.5603 1.9832.8447 3.2832.8447 1.7536 0 3.1726-.5363 4.2172-1.5933 1.0506-1.0628 1.5835-2.486 1.5835-4.2286V11.7294H70.307v.9726zM75.7434 23.3729h2.9541V11.7294h-2.9541zM77.249 6.6376c-.5052 0-.94.1777-1.2906.5254-.3547.335-.5344.7597-.5344 1.2618 0 .501.1789.9322.532 1.2825.353.35.7878.528 1.293.528.5045 0 .9396-.178 1.2928-.528.3535-.3508.5323-.7821.5323-1.2825 0-.5015-.1797-.926-.5323-1.2592-.3532-.3503-.7883-.528-1.2929-.528M85.1724 8.5831h-2.9082v3.1463h-1.6888v2.6702h1.6888v4.8365c0 1.5134.3047 2.5964.9064 3.2181.6031.6247 1.6741.9414 3.1831.9414.48 0 .963-.0156 1.4354-.0463l.133-.0088v-2.6683l-1.013.0526c-.7033 0-1.1728-.1226-1.3961-.3637-.226-.245-.3406-.7636-.3406-1.5404v-4.421h2.7497v-2.6703h-2.7497V8.583M101.7735 23.3729h2.9544V6.8412h-2.9544zM134.5728 19.2094c-.5286.5874-1.0693 1.0966-1.4855 1.3613v.0005c-.4085.2599-.924.3918-1.532.3918-.8703 0-1.5703-.3144-2.1405-.9621-.567-.644-.8545-1.4716-.8545-2.4613s.2838-1.8162.8436-2.4556c.5625-.6434 1.2588-.9562 2.1285-.9562.9515 0 1.9548.5869 2.8145 1.5947l1.9525-1.8568c-1.273-1.6433-2.897-2.4081-4.8352-2.4081-1.622 0-3.028.5862-4.1788 1.7411-1.1446 1.147-1.7251 2.6074-1.7251 4.3409 0 1.7335.58 3.1977 1.7234 4.352 1.1447 1.1557 2.5514 1.7417 4.1805 1.7417 2.139 0 3.8651-.9158 5.029-2.5935l-1.9204-1.8304M140.2405 16.0973c.1422-.5567.401-1.0207.7714-1.381.4005-.3906.9214-.5885 1.5489-.5885.716 0 1.2702.2019 1.6474.6014.3495.3696.5467.8296.588 1.368h-4.5557zm6.4569-2.7414c-.4191-.5788-.9896-1.0448-1.6965-1.3854-.7047-.3404-1.526-.513-2.441-.513-1.6489 0-2.9982.6037-4.0113 1.7946-.9836 1.182-1.4818 2.651-1.4818 4.3665 0 1.7648.547 3.2253 1.6254 4.341 1.0727 1.1105 2.5083 1.6737 4.267 1.6737 1.992 0 3.627-.799 4.8587-2.3752l.0666-.0847-1.9273-1.837c-.1789.2139-.4317.4561-.6628.6722-.2918.273-.5659.4842-.8588.6289-.4415.218-.9369.3255-1.4907.3255-.8187 0-1.4964-.2388-2.0147-.71-.4847-.4403-.768-1.0345-.843-1.7683h7.8265l.0264-1.0693c0-.7569-.1038-1.4862-.3088-2.1677a6.312 6.312 0 0 0-.934-1.8918zM152.797 18.9234c.3352-.2318.8085-.3483 1.4073-.3483.7112 0 1.4654.1413 2.2426.421v1.1421c-.6421.592-1.4996.8922-2.5499.8922-.5114 0-.909-.1126-1.1822-.3355-.2683-.218-.3985-.4955-.3985-.847 0-.3994.1571-.7022.4808-.9245zm5.2452-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.678-1.143-.9829 0-1.902.2144-2.7336.6324-.7691.387-1.5245 1.0275-2.0043 1.8662l.0298.0358 1.8917 1.796c.7791-1.2322 1.6454-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5819.7304.5819 1.249v.5652c-.7324-.221-1.4629-.333-2.1738-.333-1.47 0-2.6663.3432-3.555 1.0193-.9.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1461 2.6433.7677.6372 1.7275.961 2.8524.961 1.1246 0 2.177-.4495 3.132-1.2191v.9587h2.9089v-7.4852c0-1.4173-.4572-2.523-1.3591-3.2872zM170.7656 12.8285c-.8227-.9092-1.9791-1.371-3.4371-1.371-1.172 0-2.1236.3338-2.8357.9926v-.7207h-2.897v11.6435h2.954v-6.4215c0-.8823.2119-1.5828.6293-2.0826.4162-.4987.989-.741 1.75-.741.6691 0 1.1765.2167 1.5506.662.3759.4474.5662 1.0638.5662 1.8335v6.7496H172v-6.7496c0-1.6127-.415-2.889-1.2344-3.7948M92.8158 18.9234c.3351-.2318.8087-.3483 1.4075-.3483.7112 0 1.4652.1413 2.2426.421v1.1421c-.6421.592-1.4998.8922-2.5502.8922-.5114 0-.9087-.1126-1.1819-.3355-.2683-.218-.3988-.4955-.3988-.847 0-.3994.1574-.7022.4808-.9245zm5.2451-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.6776-1.143-.983 0-1.902.2144-2.7337.6324-.7694.387-1.5247 1.0275-2.0043 1.8662l.0295.0358 1.8917 1.796c.7792-1.2322 1.6458-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5822.7304.5822 1.249v.5652c-.7327-.221-1.4631-.333-2.174-.333-1.47 0-2.6664.3432-3.555 1.0193-.8999.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1463 2.6433.7677.6372 1.7272.961 2.8524.961 1.1246 0 2.1766-.4495 3.1318-1.2191v.9587H99.42v-7.4852c0-1.4173-.457-2.523-1.359-3.2872zM115.4464 9.5808c-3.0682 0-5.5645 2.4755-5.5645 5.5188s2.4963 5.5188 5.5645 5.5188c3.0682 0 5.5645-2.4755 5.5645-5.5188s-2.4963-5.5188-5.5645-5.5188zm0 14.0408c-4.7383 0-8.5928-3.8228-8.5928-8.522 0-4.6994 3.8545-8.5223 8.5928-8.5223 4.738 0 8.5925 3.8229 8.5925 8.5223 0 4.6992-3.8545 8.522-8.5925 8.522z"></path> </g> </symbol>
    <symbol id="do_nav-community_logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 532.2 99.8" fill="currentColor"> <path class="st0" d="M98.5,23c15.5,0,27.7,12.1,27.7,28.2c0,16.1-12.3,28.1-27.7,28.1c-15.6,0-27.7-11.9-27.7-28.1 C70.8,35.1,82.9,23,98.5,23z M98.5,67.9c8.7,0,14.9-7,14.9-16.8c0-9.8-6.2-16.8-14.9-16.8c-8.8,0-15,7-15,16.8 C83.5,60.9,89.7,67.9,98.5,67.9z"/> <path class="st0" d="M166.8,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"/> <path class="st0" d="M255.5,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"/> <path class="st0" d="M322.5,56.4c0,7,3.6,11.6,10.1,11.6c7.2,0,11.2-5.6,11.2-13.5V24.3h12.5V78h-12.3v-4.4 c-3.4,3.7-8.1,5.6-13.9,5.6c-11.9,0-20.1-8.4-20.1-23.7V24.3h12.5V56.4z"/> <path class="st0" d="M378.2,78h-12.5V24.3h12.3v4.4c2.7-3.1,7.7-5.7,13.9-5.7c13.1,0,21.3,8.5,21.3,23.8V78h-12.5V46.8 c0-7.5-3.7-12.5-10.6-12.5c-7.8,0-11.8,5.6-11.8,14V78z"/> <path class="st0" d="M427.8,0.2c4.4,0,7.9,3.4,7.9,7.8s-3.5,7.9-7.9,7.9c-4.4,0-7.9-3.5-7.9-7.9S423.4,0.2,427.8,0.2z M421.4,24.3 h12.5V78h-12.5V24.3z"/> <path class="st0" d="M446.7,59.1V35.5h-6.5V24.3h6.5v-15H459v15h12.2v11.2H459v21.7c0,7.8,1.8,9.8,8.8,9.8c1.2,0,4.1-0.2,4.1-0.2 v11.2c0,0-2.4,0.2-6.7,0.2C451.2,78.1,446.7,72.7,446.7,59.1z"/> <path class="st0" d="M497.3,78.7l-21.3-54.4h14.2l14,38.8l14.2-38.8h13.6l-24.1,60.2c-3.7,9.4-7.2,15.3-21.3,15.3 c-2.5,0-4.8-0.1-4.8-0.1V88c0,0,1.5,0.1,2.8,0.1c7.6,0,9.8-2.3,11.8-7.8L497.3,78.7z"/> <path class="st0" d="M62.4,55.9c-5.3,7-12.2,11.4-22.1,11.4c-15.6,0-27-11.7-27-27.5c0-16.1,11.4-27.8,26.5-27.8 c10,0,16.8,4.8,21.3,11.3l8.4-8.8C63.1,5.7,53.3,0,39.7,0C17.1,0,0,15.9,0,39.8c0,23.4,17.1,39.4,40.1,39.4c13.1,0,22-4.9,28.6-12.2 L62.4,55.9z"/> </symbol>
    <symbol id="do_nav-control_panel_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M19.6875 23.4862C19.6885 23.9722 19.4965 24.4388 19.1537 24.7833C18.8109 25.1279 18.3454 25.3222 17.8594 25.3237H3.23438C2.99366 25.3232 2.75539 25.2753 2.53321 25.1827C2.31102 25.09 2.10927 24.9545 1.93949 24.7839C1.7697 24.6132 1.63522 24.4108 1.54373 24.1881C1.45223 23.9655 1.40552 23.727 1.40626 23.4862V3.25498C1.40577 3.01417 1.45271 2.77562 1.54441 2.55295C1.63611 2.33028 1.77077 2.12785 1.9407 1.95722C2.11063 1.7866 2.31251 1.65111 2.5348 1.5585C2.75709 1.46589 2.99545 1.41797 3.23626 1.41748L17.8613 1.44186C18.347 1.44384 18.812 1.63843 19.1544 1.98292C19.4968 2.32741 19.6885 2.79366 19.6875 3.27936V23.4862Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M43.5863 12.27C43.5828 12.7516 43.3883 13.212 43.0456 13.5503C42.7028 13.8885 42.2397 14.0768 41.7582 14.0738H27.1332C26.8947 14.0755 26.6582 14.0302 26.4372 13.9405C26.2162 13.8507 26.015 13.7183 25.8453 13.5508C25.6755 13.3833 25.5404 13.1839 25.4477 12.9642C25.355 12.7444 25.3065 12.5085 25.3051 12.27V3.24565C25.308 2.76461 25.5019 2.30442 25.8439 1.96621C26.186 1.62799 26.6484 1.43941 27.1294 1.4419L41.7544 1.41753C42.2365 1.41403 42.7002 1.60205 43.0437 1.94027C43.3872 2.27849 43.5823 2.73924 43.5863 3.22128V12.27Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M19.6875 41.7956C19.686 42.0347 19.6375 42.2712 19.5446 42.4915C19.4518 42.7118 19.3164 42.9117 19.1463 43.0797C18.9762 43.2477 18.7747 43.3806 18.5532 43.4707C18.3318 43.5609 18.0947 43.6065 17.8556 43.605L3.23063 43.5806C2.74908 43.5826 2.28644 43.3934 1.94436 43.0545C1.60228 42.7155 1.40873 42.2547 1.40625 41.7731V32.7563C1.40748 32.5175 1.45575 32.2813 1.54831 32.0612C1.64087 31.8412 1.7759 31.6415 1.94569 31.4736C2.11547 31.3057 2.31667 31.173 2.53779 31.0829C2.75892 30.9929 2.99562 30.9473 3.23438 30.9488H17.8594C18.3414 30.9463 18.8047 31.1352 19.1475 31.4742C19.4903 31.8131 19.6845 32.2742 19.6875 32.7563V41.7956Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M27.1349 43.605C26.894 43.6045 26.6555 43.5565 26.433 43.4638C26.2106 43.3711 26.0087 43.2354 25.8387 43.0646C25.6688 42.8937 25.5341 42.6911 25.4426 42.4682C25.351 42.2453 25.3042 42.0066 25.3049 41.7656V21.5381C25.3042 21.2973 25.3509 21.0587 25.4424 20.8359C25.5338 20.6132 25.6683 20.4106 25.8381 20.2398C26.0078 20.069 26.2095 19.9333 26.4317 19.8405C26.6539 19.7476 26.8923 19.6995 27.1331 19.6987H41.7581C41.9989 19.6995 42.2372 19.7476 42.4594 19.8405C42.6816 19.9333 42.8833 20.069 43.0531 20.2398C43.2228 20.4106 43.3573 20.6132 43.4488 20.8359C43.5402 21.0587 43.5869 21.2973 43.5862 21.5381V41.7412C43.5872 42.2271 43.3955 42.6935 43.0532 43.0383C42.7109 43.3831 42.2458 43.5781 41.7599 43.5806L27.1349 43.605Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-community_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0)"> <path d="M12.6562 10.5469C12.6562 9.85155 12.8624 9.17184 13.2487 8.5937C13.635 8.01556 14.1841 7.56495 14.8265 7.29886C15.4689 7.03277 16.1758 6.96315 16.8577 7.0988C17.5397 7.23445 18.1661 7.56929 18.6578 8.06095C19.1495 8.55262 19.4843 9.17905 19.6199 9.86101C19.7556 10.543 19.686 11.2499 19.4199 11.8922C19.1538 12.5346 18.7032 13.0837 18.1251 13.47C17.5469 13.8563 16.8672 14.0625 16.1719 14.0625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M16.1719 18.2812C16.0328 18.2812 15.8969 18.3225 15.7812 18.3997C15.6656 18.477 15.5755 18.5868 15.5223 18.7153C15.4691 18.8438 15.4551 18.9852 15.4823 19.1215C15.5094 19.2579 15.5764 19.3832 15.6747 19.4816C15.773 19.5799 15.8983 19.6469 16.0347 19.674C16.1711 19.7011 16.3125 19.6872 16.4409 19.634C16.5694 19.5808 16.6792 19.4906 16.7565 19.375C16.8338 19.2594 16.875 19.1234 16.875 18.9844C16.875 18.7979 16.8009 18.6191 16.6691 18.4872C16.5372 18.3553 16.3584 18.2812 16.1719 18.2812Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M32.3438 4.21875V12.6562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M29.5312 1.40625C30.2772 1.40625 30.9925 1.70257 31.52 2.23001C32.0474 2.75746 32.3438 3.47283 32.3438 4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.21875 1.40625H29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M1.40625 4.21875C1.40625 3.47283 1.70257 2.75746 2.23001 2.23001C2.75746 1.70257 3.47283 1.40625 4.21875 1.40625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M1.40625 23.9062V4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.21875 26.7188C3.47283 26.7187 2.75746 26.4224 2.23001 25.895C1.70257 25.3675 1.40625 24.6522 1.40625 23.9062" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9.84375 26.7188H4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9.84375 35.1562V26.7188" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M15.4688 30.9375L9.84375 35.1562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M43.5938 35.1562H37.9688V43.5938L29.5312 35.1562H21.0938V18.2812H43.5938V35.1562Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M32.3438 23.9062V29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g> <defs> <clipPath id="clip0"> <rect width="45" height="45" fill="white"/> </clipPath> </defs> </symbol>
    <symbol id="do_nav-search" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></symbol>
    <symbol id="do_nav-logomark" x="0px" y="0px" viewBox="65.2 173.5 180 180" fill="currentColor"><path d="M155.2,351.7v-34.2c36.2,0,64.3-35.9,50.4-74c-5.1-14.1-16.4-25.4-30.5-30.5c-38.1-13.8-74,14.2-74,50.4l0,0H67c0-57.7,55.8-102.7,116.3-83.8c26.4,8.3,47.5,29.3,55.7,55.7C257.9,295.9,213,351.7,155.2,351.7z"/> <polygon points="155.3,317.6 121.3,317.6 121.3,283.6 121.3,283.6 155.3,283.6 155.3,283.6"/> <polygon points="121.3,343.8 95.1,343.8 95.1,343.8 95.1,317.6 121.3,317.6"/> <path d="M95.1,317.6H73.2l0,0v-21.9l0,0h21.9l0,0V317.6z"/></symbol>
    <symbol id="do_nav-write4do" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M16.3063 17.67L11.6663 18.3338L12.3288 13.6925L24.2613 1.76002C24.7887 1.23257 25.5041 0.936249 26.25 0.936249C26.6194 0.936249 26.9851 1.009 27.3263 1.15034C27.6675 1.29168 27.9776 1.49885 28.2388 1.76002C28.4999 2.02118 28.7071 2.33123 28.8484 2.67246C28.9898 3.01369 29.0625 3.37942 29.0625 3.74877C29.0625 4.11811 28.9898 4.48384 28.8484 4.82507C28.7071 5.1663 28.4999 5.47635 28.2388 5.73752L16.3063 17.67Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M22.935 3.08624L26.9125 7.06374"  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M23.4375 17.8125V27.1875C23.4375 27.6848 23.24 28.1617 22.8883 28.5133C22.5367 28.865 22.0598 29.0625 21.5625 29.0625H2.8125C2.31522 29.0625 1.83831 28.865 1.48667 28.5133C1.13504 28.1617 0.9375 27.6848 0.9375 27.1875V8.4375C0.9375 7.94022 1.13504 7.46331 1.48667 7.11167C1.83831 6.76004 2.31522 6.5625 2.8125 6.5625H12.1875" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-meetups" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M27.1901 4.6875H2.81506C1.77953 4.6875 0.940063 5.52697 0.940063 6.5625V27.1875C0.940063 28.223 1.77953 29.0625 2.81506 29.0625H27.1901C28.2256 29.0625 29.0651 28.223 29.0651 27.1875V6.5625C29.0651 5.52697 28.2256 4.6875 27.1901 4.6875Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M0.940063 12.1875H29.0651" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M8.44006 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M21.5651 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-hacktoberfest" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M19.2063 24.9918L16.5714 22.3569V14.4854L13.986 17.0708V23.5755L12.5615 25L11.1371 23.5591V8.44175L10.7419 8.04652L8.93042 9.8662L8 8.94401L11.9358 5.00823L11.944 5.01647L12.1005 5.16468L13.9778 7.04199V13.8431L16.5632 11.2577V8.42528L15.2705 7.12433L17.3948 5L19.4286 7.03376V20.9572L20.4249 21.9535L21.6352 20.7431L22.5492 21.6571L19.2063 24.9918Z" fill="currentcolor"/> <rect x="0.75" y="0.75" width="28.5" height="28.5" rx="2.25" stroke-width="1.5" stroke="currentColor"/> </symbol>
    <symbol id="do_nav-build" viewBox="0 0 16 16" fill="none" stroke="currentColor"> <path d="M1.5 14.5C1.23478 14.5 0.98043 14.3946 0.792893 14.2071C0.605357 14.0196 0.5 13.7652 0.5 13.5V2.57667C0.500879 2.29139 0.614596 2.01804 0.81632 1.81632C1.01804 1.6146 1.29139 1.50088 1.57667 1.5H14.4287C14.7125 1.50088 14.9845 1.61403 15.1852 1.81476C15.386 2.01548 15.4991 2.28747 15.5 2.57133V13.4233C15.4991 13.7086 15.3854 13.982 15.1837 14.1837C14.982 14.3854 14.7086 14.4991 14.4233 14.5H1.5Z" stroke-linecap="round" stroke-linejoin="round"/> <path d="M15.5 4.5H0.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11 7.5L13 9.5L11 11.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M5 7.5L3 9.5L5 11.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9 7.5L7 11.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
  </svg>
</div>

<nav class="do_nav" role="navigation" aria-label="Navigation">
  <ul role="menubar" class="utility">
    <li role="banner" data-flex="grow" data-show="always">
    </li>
    <li role="menuitem">
      <a href="/products/">Products</a>
    </li>
    <li role="menuitem">
      <a href="/pricing/">Pricing</a>
    </li>
    <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Docs</span>
      <div class="mini" aria-expanded="false">
        <ul role="menu">
          <li role="menuitem">
            <a href="/docs/">Product Docs</a>
          </li>
          <li role="menuitem">
            <a href="https://developers.digitalocean.com/documentation/">API Docs</a>
          </li>
        </ul>
      </div>
    </li>
      <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Log in</span>
        <div class="mini" aria-expanded="false">
          <header>Log in to</header>
          <ul role="menu">
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#do_nav-community_icon"></use>
              </svg>
              <a id="log-in" href="/community/auth/digitalocean">Community</a>
            </li>
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#do_nav-control_panel_icon"></use>
              </svg>
              <a href="https://cloud.digitalocean.com/registrations/new">Control Panel</a>
            </li>
          </ul>
        </div>
      </li>
  </ul>

  <ul role="menubar" class="primary">
    <li role="menuitem" data-show="always">
      <a href="https://www.digitalocean.com/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto">
          <use xlink:href="#do_nav-logomark"></use>
        </svg>
      </a>
    </li>
    <li role="menuitem" data-show="always">
      <a role="home" title="DigitalOcean Community Home" href="/community">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="120px" height="24px"
             shape-rendering="auto">
          <use xlink:href="#do_nav-community_logo"></use>
        </svg>
</a>    </li>
    <li role="menuitem">
      <a data-activatable="true" href="/community/tutorials">Tutorials</a>
    </li>
    <li role="menuitem">
      <a data-activatable="true" href="/community/questions">Questions</a>
    </li>
    <li role="menuitem" aria-haspopup="true" class="mega_parent" tabindex="0">
      <span class="expander">Get Involved</span>
      <div class="mega" aria-expanded="false">
        <div class="section column">
          <header>Participate</header>
          <ul role="menu">
            <li role="menuitem">
              <a href="https://www.digitalocean.com/write-for-donations/" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-write4do"></use>
                </svg>
                <p>
                  <strong>Write for DigitalOcean</strong>
                  You get paid, we donate to tech non-profits.
                </p>
              </a>
            </li>
            <li role="menuitem">
              <a href="https://www.meetup.com/pro/digitalocean" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-meetups"></use>
                </svg>
                <p>
                  <strong>DigitalOcean Meetups</strong>
                  Find and meet other developers in your city.
                </p>
              </a>
            </li>
            <li role="menuitem">
              <a href="https://hacktoberfest.digitalocean.com" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-hacktoberfest"></use>
                </svg>
                <p>
                  <strong>Hacktoberfest</strong>
                  Contribute to Open Source
                </p>
              </a>
            </li>
          </ul>
        </div>
        <div class="section column">
          <header>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <use xlink:href="#do_nav-build"></use>
            </svg>
            Build with DigitalOcean
          </header>
          <ul role="menu" class="indent">
            <li role="menuitem">
              <a title="Community-built tools and integrations that use the DigitalOcean API" href="/community/tools">Community Tools and Integrations</a>
            </li>
            <li role="menuitem"><a href="https://www.digitalocean.com/hatch/" title="Build your startup on DigitalOcean.">Hatch Startup Program</a></li>
            <li role="menuitem"><a href="https://marketplace.digitalocean.com/vendors/" title="List your open source One-Click Application in the DigitalOcean Marketplace">Marketplace Partner Program</a></li>
            <li role="menuitem"><a href="https://www.digitalocean.com/droplets-for-demos/" title="DigitalOcean credits to fund research for conference and meetup presentations">Presentation Grants</a></li>
            <li role="menuitem"><a href="https://github.com/digitalocean">DigitalOcean on GitHub</a></li>
          </ul>
        </div>
      </div>
    </li>
    <li role="menuitem" data-show="mobile" data-flex="grow" class="right">
      <a href="javascript:void(0);" data-js="modal_toggle">
        <span class="icon-menu-thin"></span>
      </a>
    </li>
    <li role="menuitem" aria-haspopup="true" data-flex="grow">
      <form name="do_nav-search" method="GET" action="https://www.digitalocean.com/community/search">
        <label for="q">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto"
               width="14px" height="14px">
            <use xlink:href="#do_nav-search"></use>
          </svg>
        </label>
        <input type="text" name="q" id="q" title="Search" placeholder="Search DigitalOcean" autocomplete="off" spellcheck="false" class="search" />
        </form>
        <div class="mini search-results-dropdown" aria-expanded="false">
            <div class="header-search-results-list"></div>
            <div id="btn-wrap">
              <a class="more-search-results" data-search-path="/community/search" href="/community/search">
                View All Results
              </a>
            </div>
        </div>
        <script type='text/template' id='autocomplete-hits-template'>
          <div class="inner-search">
            <ul>
              <li class="section">
                <p>{{section}}</p>
              </li>

              {{#hits}}
                <li>
                  <span class='icon icon-{{css_name}}'></span>
                  <a href='{{url}}'>{{title}}</a>
                </li>
              {{/hits}}
            </ul>

            {{#hasMoreResults}}
              <a href="/community/search?q={{query}}">View All Results</a>
            {{/hasMoreResults}}
          </div>
        </script>
    </li>
    <li role="menuitem">
      <a class="button primary" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
    </li>
  </ul>

  <div class="mobile_nav_bg" data-js="modal_toggle"></div>
  <div class="mobile_nav">
    <a data-dismiss='modal' aria-label="close" href="javascript:void(0);" data-js="modal_toggle"><span class="icon-close"></span></a>
    <div class="mobile_nav_content">
      <header>Community</header>
      <ul role="menu">
        <li role="menuitem">
          <a data-activatable="true" href="/community/tutorials">Tutorials</a>
        </li>
        <li role="menuitem">
          <a data-activatable="true" href="/community/questions">Questions</a>
        </li>
        <li role="menuitem">
          <a href="https://www.meetup.com/pro/digitalocean">Meetups</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/write-for-donations/">Write for us</a>
        </li>
        <li role="menuitem">
          <a href="https://hacktoberfest.digitalocean.com">Hacktoberfest</a>
        </li>
        <li role="menuitem">
          <a href="/community/tools">Community Projects</a>
        </li>
      </ul>
      <header>Products</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://www.digitalocean.com/">Homepage</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/pricing">Pricing</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/products">Product Overview</a>
        </li>
        <li role="menuitem">
          <a href="https://marketplace.digitalocean.com/">Marketplace</a>
        </li>
      </ul>
      <header>Customers</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://cloud.digitalocean.com/login">Control panel</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/docs/">Documentation</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/#support">Contact Support</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/sales/">Contact Sales</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header>
  <div class="legacy-header ">
    <div class="flash-container">
      
    </div>

    <div class="wrapper">
      
    </div>
  </div>
</header>



      

      <div class='wrapper layout-wrapper'>

        










<div class="section-content section-content-growable content Tutorial-content">
  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>
    <div class="author-byline">
      
    </div>

    <div class='right-section'>
      


        <div class='section-item table-of-contents-triggers'><div class="toc-trigger-mobile" data-toggle="modal" data-target="#contents-modal">
  <a href="javascript:void(0);">
    <span class="icon icon-contents"></span>
    <span class="title">Contents</span>
    <span class="icon icon-arrow-down"></span>
  </a>
</div>

</div>

    </div>
  </div>
</div>



  <div class="container tutorial-header">
    

      <div class="featured-items-right-bar">
        <h3>Related</h3>
          <a href="https://marketplace.digitalocean.com/apps/kubernetes-monitoring-stack-beta?utm_source=community_related">
            <div class="featured-item-highlight">
                  <span class="featured-item-highlight-image"><img width="45" height="45" alt="Marketplace" src="https://digitalocean.cdn.prismic.io/digitalocean%2F559b194a-ce06-43e4-9fd2-4c4738909353_monitoring-logo.svg" /></span>
                Kubernetes Monitoring Stack (BETA)
                <span class="featured-item-category">
                  
                  Marketplace
                </span>
              </div>
</a>          <a href="/community/tutorials/how-to-install-graylog-1-x-on-centos-7">
            <div class="featured-item-regular">
                  How To Install Graylog 1.x on CentOS 7
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="/assets/community/tutorials/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png" />
                    Tutorial
                  </span>
                </div>
</a>          <a href="/community/tutorials/how-to-query-prometheus-on-ubuntu-14-04-part-2">
            <div class="featured-item-regular">
                  How To Query Prometheus on Ubuntu 14.04 Part 2
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="/assets/community/tutorials/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png" />
                    Tutorial
                  </span>
                </div>
</a>      </div>



    <h1 class="content-title Tutorial-header">How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04</h1>

    <span class="meta-section timestamp"><span class="tutorial-date-text">Posted</span><span class="tutorial-date">May 11, 2018</span></span>

    <span class="meta-section pageviews"><span class="icon icon-eye v-mid"></span><span class="views-count v-mid">39.3k</span><span class="sr-only"> views</span></span>

    <span class="meta-section tags">
      <a class="tag" href="/community/tags/monitoring?type=tutorials">Monitoring</a> <a class="tag" href="/community/tags/nginx?type=tutorials">Nginx</a>
      <a class="tag" href="/community/tags/ubuntu-16-04?type=tutorials">Ubuntu 16.04</a>
    </span>
  </div>

  <div class="tutorial-authors">
    <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="/community/users/xmudrii">
            <img class="avatar avatar-large" src="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/users/avatars/large/a4404cd829f8d1cac5840bc5a609deb4dc904d55.png?1514932045" alt="A4404cd829f8d1cac5840bc5a609deb4dc904d55" />
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="/community/users/xmudrii">Marko Mudrinić</a></p>

      <p>
          <a class="advice" href="https://www.digitalocean.com/community/write-for-digitalocean">Become an author</a>
      </p>
    </li>
  </ul>
</div>

  </div>


    <div class="content-body tutorial-content" data-growable-markdown>
      
      <p><em>The author selected the <a href="https://www.brightfunds.org/funds/tech-education">Tech Education Fund</a> to receive a $300 donation as part of the <a href="https://do.co/w4do-cta">Write for DOnations</a> program.</em></p>

<h3 id="introduction">Introduction</h3>

<p>When problems arise, sending alerts to the appropriate team significantly speeds up identifying the root cause of an issue, allowing teams to resolve incidents quickly. </p>

<p><a href="https://prometheus.io/">Prometheus</a> is an open-source monitoring system that collects metrics from your services and stores them in a time-series database.  <a href="https://github.com/prometheus/alertmanager">Alertmanager</a> is a tool for processing alerts, which de-duplicates, groups, and sends alerts to the appropriate receiver. It can handle alerts from client applications such as Prometheus, and it supports many receivers including e-mail, <a href="https://www.pagerduty.com/">PagerDuty</a>, <a href="https://www.opsgenie.com/">OpsGenie</a> and <a href="https://slack.com/">Slack</a>.</p>

<p>Thanks to the many Prometheus exporters available, you can configure alerts for every part of your infrastructure, including <a href="https://prometheus.io/docs/instrumenting/exporters/#http">web</a> and <a href="https://prometheus.io/docs/instrumenting/exporters/#databases">database servers</a>, <a href="https://prometheus.io/docs/instrumenting/exporters/#messaging-systems">messaging systems</a> or <a href="https://prometheus.io/docs/instrumenting/exporters/#apis">APIs</a>.</p>

<p><a href="https://github.com/prometheus/blackbox_exporter">Blackbox Exporter</a> probes endpoints over HTTP, HTTPS, DNS, TCP or ICMP protocols, returning detailed metrics about the request, including whether or not it was successful and how long it took to receive a response. </p>

<p>In this tutorial you&rsquo;ll install and configure Alertmanager and Blackbox Exporter to monitor the responsiveness of an Nginx web server.  You&rsquo;ll then configure Alertmanager to notify you over e-mail and Slack if your server isn&rsquo;t responding.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>For this tutorial, you&rsquo;ll need:</p>

<ul>
<li>One Ubuntu 16.04 server, set up by following the <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04">Initial Server Setup with Ubuntu 16.04 tutorial</a>, including a sudo non-root user and a firewall.</li>
<li>Nginx installed by following the first two steps of the <a href="https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-16-04">How To Install Nginx on Ubuntu 16.04</a> tutorial.</li>
<li>An Nginx server block listening on port <code>8080</code>, which you can configure by following the <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-nginx-server-blocks-virtual-hosts-on-ubuntu-16-04">How To Set Up Nginx Server Blocks (Virtual Hosts) on Ubuntu 16.04</a> tutorial. You&rsquo;ll use this as the endpoint to monitor in this tutorial.

<ul>
<li>Change the port by modifying the <code>listen</code> directive from <code>80</code> to <code>8080</code>. You can use a domain or sub-domain, but make sure to replace the endpoint address through the tutorial. </li>
</ul></li>
<li>Prometheus 2.x installed by following the tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-install-prometheus-on-ubuntu-16-04">How To Install Prometheus On Ubuntu 16.04</a>. </li>
<li>An SMTP server for sending e-mails. You can use any SMTP server, or set up your own by following the tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-postfix-as-a-send-only-smtp-server-on-ubuntu-16-04">How to Install and Configure Postfix as a Send-Only SMTP Server on Ubuntu 16.04</a>.</li>
<li>Optionally, a <a href="https://slack.com">Slack</a> account and workspace if you want to receive alerts from Alertmanager over Slack. </li>
</ul>

<h2 id="step-1-—-creating-service-users">Step 1 — Creating Service Users</h2>

<p>For security purposes, we&rsquo;ll create two new user accounts, <strong>blackbox_exporter</strong> and <strong>alertmanager</strong>. We&rsquo;ll use these accounts throughout the tutorial to run Blackbox Exporter and Alertmanager, as well as to isolate the ownership on appropriate core files and directories. This ensures Blackbox Exporter and Alertmanager can&rsquo;t access and modify data they don&rsquo;t own. </p>

<p>Create these users with the <code>useradd</code> command using the <code>--no-create-home</code> and <code>--shell /bin/false</code> flags so that these users can&rsquo;t log into the server:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo useradd --no-create-home --shell /bin/false blackbox_exporter
</li><li class="line" prefix="$">sudo useradd --no-create-home --shell /bin/false alertmanager
</li></ul></code></pre>
<p>With the users in place, let&rsquo;s download and configure Blackbox Exporter.</p>

<h2 id="step-2-—-installing-blackbox-exporter">Step 2 — Installing Blackbox Exporter</h2>

<p>First, download the latest stable version of Blackbox Exporter to your home directory. You can find the latest binaries along with their checksums on the <a href="https://prometheus.io/download/">Prometheus Download page</a>.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li><li class="line" prefix="$">curl -LO https://github.com/prometheus/blackbox_exporter/releases/download/v<span class="highlight">0.12.0</span>/blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>Before unpacking the archive, verify the file&rsquo;s checksums using the following <code>sha256sum</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sha256sum blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>Compare the output from this command with the checksum on the Prometheus download page to ensure that your file is both genuine and not corrupted:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">c5d8ba7d91101524fa7c3f5e17256d467d44d5e1d243e251fd795e0ab4a83605</span>  blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64.tar.gz
</code></pre>
<p>If the checksums don&rsquo;t match, remove the downloaded file and repeat the preceding steps to re-download the file.</p>

<p>When you&rsquo;re sure the checksums match, unpack the archive:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">tar xvf blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>This creates a directory called <code>blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64</code>, containing the <code>blackbox_exporter</code> binary file, a license, and example files.</p>

<p>Copy the binary file to the <code>/usr/local/bin</code> directory.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mv ./blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64/blackbox_exporter /usr/local/bin
</li></ul></code></pre>
<p>Set the user and group ownership on the binary to the <strong>blackbox_exporter</strong> user, ensuring non-root users can&rsquo;t modify or replace the file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">blackbox_exporter:blackbox_exporter</span> /usr/local/bin/blackbox_exporter
</li></ul></code></pre>
<p>Lastly, we&rsquo;ll remove the archive and unpacked directory, as they&rsquo;re no longer needed.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">rm -rf ~/blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64.tar.gz ~/blackbox_exporter-<span class="highlight">0.12.0</span>.linux-amd64
</li></ul></code></pre>
<p>Next, let&rsquo;s configure Blackbox Exporter to probe endpoints over the HTTP protocol and then run it.</p>

<h2 id="step-3-—-configuring-and-running-blackbox-exporter">Step 3 — Configuring and Running Blackbox Exporter</h2>

<p>Let&rsquo;s create a configuration file defining how Blackbox Exporter should check endpoints. We&rsquo;ll also create a systemd unit file so we can manage Blackbox&rsquo;s service using <code>systemd</code>. </p>

<p>We&rsquo;ll specify the list of endpoints to probe in the Prometheus configuration in the next step. </p>

<p>First, create the directory for Blackbox Exporter&rsquo;s configuration. Per Linux conventions, configuration files go in the <code>/etc</code> directory, so we&rsquo;ll use this directory to hold the Blackbox Exporter configuration file as well:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mkdir /etc/blackbox_exporter
</li></ul></code></pre>
<p>Then set the ownership of this directory to the <strong>blackbox_exporter</strong> user you created in Step 1:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">blackbox_exporter:blackbox_exporter</span> /etc/blackbox_exporter
</li></ul></code></pre>
<p>In the newly-created directory, create the <code>blackbox.yml</code> file which will hold the Blackbox Exporter configuration settings:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/blackbox_exporter/blackbox.yml
</li></ul></code></pre>
<p>We&rsquo;ll configure Blackbox Exporter to use the default <code>http</code> prober to probe endpoints. <em>Probers</em> define how Blackbox Exporter checks if an endpoint is running. The  <code>http</code> prober checks endpoints by sending a HTTP request to the endpoint and testing its response code. You can select which HTTP method to use for probing, as well as which status codes to accept as successful responses. Other popular probers include the <code>tcp</code> prober for probing via the TCP protocol, the <code>icmp</code> prober for probing via the ICMP protocol and the <code>dns</code> prober for checking DNS entries.</p>

<p>For this tutorial, we&rsquo;ll use the <code>http</code> prober to probe the endpoint running on port <code>8080</code> over the HTTP <code>GET</code> method. By default, the prober assumes that valid status codes in the <code>2xx</code> range are valid, so we don&rsquo;t need to provide a list of valid status codes.</p>

<p>We&rsquo;ll configure a timeout of <strong>5</strong> seconds, which means Blackbox Exporter will wait 5 seconds for the response before reporting a failure. Depending on your application type, choose any value that matches your needs.</p>

<p><span class='note'><strong>Note:</strong> Blackbox Exporter&rsquo;s configuration file uses the <a href="http://www.yaml.org/start.html">YAML format</a>, which forbids using tabs and strictly requires using two spaces for indentation. If the configuration file is formatted incorrectly, Blackbox Exporter will fail to start up.<br></span></p>

<p>Add the following configuration to the file:</p>
<div class="code-label " title="/etc/blackbox_exporter/blackbox.yml">/etc/blackbox_exporter/blackbox.yml</div><pre class="code-pre yaml"><code langs="">modules:
  http_2xx:
    prober: http
    timeout: <span class="highlight">5s</span>
    http:      
      valid_status_codes: []
      method: GET
</code></pre>
<p>You can find more information about the configuration options in the  <a href="https://github.com/prometheus/blackbox_exporter/blob/master/CONFIGURATION.md">the Blackbox Exporter&rsquo;s documentation</a>.</p>

<p>Save the file and exit your text editor.</p>

<p>Before you create the service file, set the user and group ownership on the configuration file to the <strong>blackbox_exporter</strong> user created in Step 1.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">blackbox_exporter:blackbox_exporter</span> /etc/blackbox_exporter/blackbox.yml
</li></ul></code></pre>
<p>Now create the service file so you can manage Blackbox Exporter using <code>systemd</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/systemd/system/blackbox_exporter.service
</li></ul></code></pre>
<p>Add the following content to the file:</p>
<div class="code-label " title="/etc/systemd/system/blackbox_exporter.service">/etc/systemd/system/blackbox_exporter.service</div><pre class="code-pre "><code langs="">[Unit]
Description=Blackbox Exporter
Wants=network-online.target
After=network-online.target

[Service]
User=blackbox_exporter
Group=blackbox_exporter
Type=simple
ExecStart=/usr/local/bin/blackbox_exporter --config.file /etc/blackbox_exporter/blackbox.yml

[Install]
WantedBy=multi-user.target
</code></pre>
<p>This service file tells <code>systemd</code> to run Blackbox Exporter as the <strong>blackbox_exporter</strong> user with the configuration file located at <code>/etc/blackbox_exporter/blackbox.yml</code>. The details of <code>systemd</code> service files are beyond the scope of this tutorial, but if you&rsquo;d like to learn more see the <a href="https://www.digitalocean.com/community/tutorials/understanding-systemd-units-and-unit-files#where-are-systemd-unit-files-found">Understanding Systemd Units and Unit Files</a> tutorial.</p>

<p>Save the file and exit your text editor.</p>

<p>Finally, reload <code>systemd</code> to use your newly-created service file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl daemon-reload
</li></ul></code></pre>
<p>Now start Blackbox Exporter:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start blackbox_exporter
</li></ul></code></pre>
<p>Make sure it started successfully by checking the service&rsquo;s status:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status blackbox_exporter
</li></ul></code></pre>
<p>The output contains information about Blackbox Exporter&rsquo;s process, including the main process identifier (PID), memory use, logs and more.</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>● blackbox_exporter.service - Blackbox Exporter
   Loaded: loaded (/etc/systemd/system/blackbox_exporter.service; disabled; vendor preset: enabled)
   Active: <span class="highlight">active (running)</span> since Thu 2018-04-05 17:48:58 UTC; 5s ago
 Main PID: 5869 (blackbox_export)
    Tasks: 4
   Memory: 968.0K
      CPU: 9ms
   CGroup: /system.slice/blackbox_exporter.service
           └─5869 /usr/local/bin/blackbox_exporter --config.file /etc/blackbox_exporter/blackbox.yml
</code></pre>
<p>If the service&rsquo;s status isn&rsquo;t <code><span class="highlight">active (running)</span></code>, follow the on-screen logs and retrace the preceding steps to resolve the problem before continuing the tutorial.</p>

<p>Lastly, enable the service to make sure Blackbox Exporter will start when the server restarts: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable blackbox_exporter
</li></ul></code></pre>
<p>Now that Blackbox Exporter is fully configured and running, we can configure Prometheus to collect metrics about probing requests to our endpoint, so we can create alerts based on those metrics and set up notifications for alerts using Alertmanager.</p>

<h2 id="step-4-—-configuring-prometheus-to-scrape-blackbox-exporter">Step 4 — Configuring Prometheus To Scrape Blackbox Exporter</h2>

<p>As mentioned in Step 3, the list of endpoints to be probed is located in the Prometheus configuration file as part of the Blackbox Exporter&rsquo;s <code>targets</code> directive. In this step you&rsquo;ll configure Prometheus to use Blackbox Exporter to scrape the Nginx web server running on port <code>8080</code> that you configured in the prerequisite tutorials.</p>

<p>Open the Prometheus configuration file in your editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/prometheus/prometheus.yml
</li></ul></code></pre>
<p>At this point, it should look like the following: </p>
<div class="code-label " title="/etc/prometheus/prometheus.yml">/etc/prometheus/prometheus.yml</div><pre class="code-pre yaml"><code langs="">global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9090']
  - job_name: 'node_exporter'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9100']
</code></pre>
<p>At the end of the <code>scrape_configs</code> directive, add the following entry, which will tell Prometheus to probe the endpoint running on the local port <code>8080</code> using the Blackbox Exporter&rsquo;s module <code>http_2xx</code>, configured in Step 3.</p>
<div class="code-label " title="/etc/prometheus/prometheus.yml">/etc/prometheus/prometheus.yml</div><pre class="code-pre yaml"><code langs="">&hellip;
  - job_name: 'blackbox'
    metrics_path: /probe
    params:
      module: [http_2xx]
    static_configs:
      - targets:
        - http://localhost:8080
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: localhost:9115
</code></pre>
<p>By default, Blackbox Exporter runs on port <code>9115</code> with  metrics available on the <code>/probe</code> endpoint. </p>

<p>The <code>scrape_configs</code> configuration for Blackbox Exporter differs from the configuration for other exporters. The most notable difference is the  <code>targets</code> directive, which lists the endpoints being probed instead of the exporter&rsquo;s address. The exporter&rsquo;s address is specified using the appropriate set of <code>__address__</code> labels.</p>

<p>You&rsquo;ll find a  detailed explanation of the <code>relabel</code> directives in the <a href="https://prometheus.io/docs/introduction/overview/">Prometheus documentation</a>.</p>

<p>Your Prometheus configuration file will now look like this:</p>
<div class="code-label " title="Prometheus config file - /etc/prometheus/prometheus.yml">Prometheus config file - /etc/prometheus/prometheus.yml</div><pre class="code-pre yaml"><code langs="">global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'prometheus'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9090']
  - job_name: 'node_exporter'
    scrape_interval: 5s
    static_configs:
      - targets: ['localhost:9100']
  - job_name: 'blackbox'
    metrics_path: /probe
    params:
      module: [http_2xx]
    static_configs:
      - targets:
        - http://localhost:8080
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - target_label: __address__
        replacement: localhost:9115
</code></pre>
<p>Save the file and close your text editor.</p>

<p>Restart Prometheus to put the changes into effect: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart prometheus
</li></ul></code></pre>
<p>Make sure it&rsquo;s running as expected by checking the Prometheus service status:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status prometheus
</li></ul></code></pre>
<p>If the service&rsquo;s status isn&rsquo;t <code><span class="highlight">active (running)</span></code>, follow the on-screen logs and retrace the preceding steps to resolve the problem before continuing the tutorial.</p>

<p>At this point, you&rsquo;ve configured Prometheus to scrape metrics from Blackbox Exporter. In order to receive alerts from Alertmanager, in the next step you&rsquo;ll create an appropriate set of Prometheus alert rules.</p>

<h2 id="step-5-—-creating-alert-rules">Step 5 — Creating Alert Rules</h2>

<p><a href="https://prometheus.io/docs/alerting/overview/">Prometheus Alerting</a> is separated into two parts. The first part is handled by the Prometheus server and includes generating alerts based on alert rules and sending them to <a href="https://github.com/prometheus/alertmanager">Alertmanager</a>. The second part is done by Alertmanager, which manages received alerts and sends them to the appropriate receivers, depending on the configuration.</p>

<p>In this step, you&rsquo;ll learn the basic syntax of alert rules as you create an alert rule to check if your server is available.</p>

<p>First, create a file to store your alerts. Create an empty file named <code>alert.rules.yml</code> in the <code>/etc/prometheus</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo touch /etc/prometheus/alert.rules.yml
</li></ul></code></pre>
<p>As this file is part of the Prometheus configuration, make sure the ownership is set to the <strong>prometheus</strong> user you created in the prerequisite Prometheus tutorial: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">prometheus:prometheus</span> /etc/prometheus/alert.rules.yml
</li></ul></code></pre>
<p>With the alerts file in place, we need to tell Prometheus about it by adding the appropriate directive to the configuration file.</p>

<p>Open the Prometheus configuration file in your editor: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/prometheus/prometheus.yml
</li></ul></code></pre>
<p>Add the <code>rule_files</code> directive after the <code>global</code> directive to make Prometheus load your newly-created alerts file when Prometheus starts.</p>
<div class="code-label " title="/etc/prometheus/prometheus.yml">/etc/prometheus/prometheus.yml</div><pre class="code-pre "><code langs="">global:
  scrape_interval: 15s

<span class="highlight">rule_files:</span>
  <span class="highlight">- alert.rules.yml</span>

scrape_configs:
&hellip;
</code></pre>
<p>Save the file and exit your text editor. </p>

<p>Now let&rsquo;s build a rule that checks if the endpoint is down.</p>

<p>In order to make the alert rule, you&rsquo;ll use Blackbox Exporter&rsquo;s <code>probe_success</code> metric which returns <strong>1</strong> if the endpoint is up and <strong>0</strong> if it isn&rsquo;t.</p>

<p>The <code>probe_success</code> metric contains two labels: the <code>instance</code> label with the address of the endpoint, and the <code>job</code> label with the name of the exporter that collected the metric.</p>

<p>Open the alert rules file in your editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/prometheus/alert.rules.yml
</li></ul></code></pre>
<p>Like the Prometheus configuration file, the alerts rule file uses the YAML format, which strictly forbids tabs and requires two spaces for indentation.  Prometheus will fail to start if the file is incorrectly formatted.</p>

<p>First, we&rsquo;ll create an alert rule called <code>EndpointDown</code> to check if the <code>probe_sucess</code> metric equals <strong>0</strong> with a duration of <strong>10</strong> seconds. This ensures that Prometheus will not send any alert if the endpoint is not available for less than 10 seconds. You&rsquo;re free to choose whatever duration you want depending on your application type and needs.</p>

<p>Also, we&rsquo;ll attach two labels denoting critical severity and a summary of the alert, so we can easily manage and filter alerts.</p>

<p>If you want to include more details in the alert&rsquo;s labels and annotations, you can use the  <code>{{ $labels.<span class="highlight">metrics_label</span> }}</code> syntax to get the label&rsquo;s value. We&rsquo;ll use this to include the endpoint&rsquo;s address from the metric&rsquo;s <code>instance</code> label.</p>

<p>Add the following rule to the alerts file:</p>
<div class="code-label " title="/etc/prometheus/alert.rules.yml">/etc/prometheus/alert.rules.yml</div><pre class="code-pre "><code langs="">groups:
- name: alert.rules
  rules:
  - alert: EndpointDown
    expr: probe_success == 0
    for: 10s
    labels:
      severity: "critical"
    annotations:
      summary: "Endpoint {{ $labels.instance }} down"
</code></pre>
<p>Save the file and exit your text editor.</p>

<p>Before restarting Prometheus, make sure your alerts file is syntactically correct using the following <code>promtool</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo promtool check rules /etc/prometheus/alert.rules.yml
</li></ul></code></pre>
<p>The output contains the number of rules found in the file, along with information about whether or not the rules are syntactically correct:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Checking /etc/prometheus/alert.rules.yml
  SUCCESS: 1 rules found
</code></pre>
<p>Lastly, restart Prometheus to apply the changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart prometheus
</li></ul></code></pre>
<p>Verify the service is running with the <code>status</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status prometheus
</li></ul></code></pre>
<p>If the service&rsquo;s status isn&rsquo;t <code>active</code>, follow the on-screen logs and retrace the preceding steps to resolve the problem before continuing the tutorial.</p>

<p>With the alert rules in place, we can download and install Alertmanager.</p>

<h2 id="step-6-—-downloading-alertmanager">Step 6 — Downloading Alertmanager</h2>

<p>Blackbox Exporter is configured and our alert rules are in place. Let&rsquo;s download and install Alertmanager to process the alerts received by Prometheus.</p>

<p>You can find the latest binaries along with their checksums on the <a href="https://prometheus.io/download/">Prometheus download page</a>.  Download and unpack the current stable version of Alertmanager into your home directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cd ~
</li><li class="line" prefix="$">curl -LO https://github.com/prometheus/alertmanager/releases/download/v<span class="highlight">0.14.0</span>/alertmanager-<span class="highlight">0.14.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>Before unpacking the archive, verify the file&rsquo;s checksums using the following <code>sha256sum</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sha256sum alertmanager-<span class="highlight">0.14.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>Compare the output from this command with the checksum on the Prometheus download page to ensure that your file is both genuine and not corrupted.</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">caddbbbe3ef8545c6cefb32f9a11207ae18dcc788e8d0fb19659d88c58d14b37</span>  alertmanager-<span class="highlight">0.14.0</span>.linux-amd64.tar.gz
</code></pre>
<p>If the checksums don&rsquo;t match, remove the downloaded file and repeat the preceding steps to re-download the file.</p>

<p>Once you&rsquo;ve verified the download, unpack the archive:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">tar xvf alertmanager-<span class="highlight">0.14.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>This creates a directory called <code>alertmanager-<span class="highlight">0.14.0</span>.linux-amd64</code> containing two binary files (<code>alertmanager</code> and <code>amtool</code>), a license and an example configuration file.</p>

<p>Move the two binary files to the <code>/usr/local/bin</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mv alertmanager-<span class="highlight">0.14.0</span>.linux-amd64/alertmanager /usr/local/bin
</li><li class="line" prefix="$">sudo mv alertmanager-<span class="highlight">0.14.0</span>.linux-amd64/amtool /usr/local/bin
</li></ul></code></pre>
<p>Set the user and group ownership on the binary files to the <strong>alertmanager</strong> user you created in Step 1:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">alertmanager:alertmanager</span> /usr/local/bin/alertmanager
</li><li class="line" prefix="$">sudo chown <span class="highlight">alertmanager:alertmanager</span> /usr/local/bin/amtool
</li></ul></code></pre>
<p>Remove the leftover files from your home directory as they are no longer needed:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">rm -rf alertmanager-<span class="highlight">0.14.0</span>.linux-amd64 alertmanager-<span class="highlight">0.14.0</span>.linux-amd64.tar.gz
</li></ul></code></pre>
<p>Now that the required files are in the appropriate location, we can configure Alertmanager to send notifications for alerts over email.</p>

<h2 id="step-7-—-configuring-alertmanager-to-send-alerts-over-email">Step 7 — Configuring Alertmanager To Send Alerts Over Email</h2>

<p>In this step, you&rsquo;ll create the directory and files to store Alertmanager&rsquo;s data and configuration settings, and then configure Alertmanager to send alerts via email.</p>

<p>Following the standard Linux conventions, we&rsquo;ll create a directory in <code>/etc</code> to store Alertmanager&rsquo;s configuration file.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo mkdir /etc/alertmanager
</li></ul></code></pre>
<p>Set the user and group ownership for the newly-created directory to the <strong>alertmanager</strong> user:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown <span class="highlight">alertmanager:alertmanager</span> /etc/alertmanager
</li></ul></code></pre>
<p>We&rsquo;ll store the configuration file in the <code>alertmanager.yml</code> file, so create this file and open it in your editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/alertmanager/alertmanager.yml
</li></ul></code></pre>
<p>Like other Prometheus-related files, this one uses YAML format as well, so make sure to use two spaces instead of tabs for indentation.</p>

<p>We&rsquo;ll configure Alertmanager to send emails using Postfix, which you installed following the prerequisite tutorial. We need to provide the SMTP server&rsquo;s address, using the <code>smtp_smarthost</code> directive, as well as the address we want to send emails from, using the <code>smtp_from</code> directive. As Postfix is running on the same server as Alertmanager, the server&rsquo;s address is <code>localhost:25</code>. We&rsquo;ll use the  <strong>alertmanager</strong> user for sending emails. </p>

<p>By default, Postfix doesn&rsquo;t have TLS configured, so we need to tell Alertmanager to allow non-TLS SMTP servers using the <code>smtp_require_tls</code> directive.</p>

<p>Put the SMTP configuration under the <code>global</code> directive, as it&rsquo;s used to specify parameters valid in all other configuration contexts. This includes SMTP configuration in our case, and can also include API tokens for various integrations:</p>
<div class="code-label " title="Alertmanager config file part 1 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 1 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">global:
  smtp_smarthost: 'localhost:25'
  smtp_from: 'alertmanager@<span class="highlight">your_domain</span>'
  smtp_require_tls: false
</code></pre>
<p><span class='note'><strong>Note:</strong> Make sure to replace <code><span class="highlight">your_domin</span></code> in the <code>smtp_from</code> directive with your domain name.<br></span></p>

<p>At this point, Alertmanager knows how to send emails, but we need to define how it will handle incoming alerts using the <code>route</code> directive.  The <code>route</code> directive is applied to every incoming alert and defines properties such as how Alertmanager will group alerts, who is the default recipient, or how long Alertmanager will wait before sending an initial alert.</p>

<p>To group alerts, use the <code>group_by</code> sub-directive, which takes an inline array of labels (such as <code>['<span class="highlight">label-1</span>', '<span class="highlight">label-2</span>']</code>). Grouping ensures that alerts containing the same labels will be grouped and sent in the same batch.</p>

<p>Every <code>route</code> directive has a single receiver defined using the <code>receiver</code> sub-directive. If you want to add multiple receivers, you&rsquo;ll need to either define multiple receivers under the same directive or nest multiple <code>route</code> directives using the <code>routes</code> sub-directive. In this tutorial, we&rsquo;ll cover the first approach to configure Slack alerts.</p>

<p>In this case, we&rsquo;ll only group by Blackbox&rsquo;s <code>instance</code> label and the <code>severity</code> label we attached to the alert in step 6, ensuring we&rsquo;ll get multiple alerts for our endpoint with critical severity in one mail.</p>

<p>Add the following <code>group_by</code> directive:</p>
<div class="code-label " title="Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">&hellip;
route:
  group_by: ['instance', 'alert']
</code></pre>
<p>Next, we&rsquo;ll define intervals, such as how long Alertmanager will wait before sending initial and new alerts.</p>

<p>Using the <code>group_wait</code> sub-directive, we&rsquo;ll define how long Alertmanager will wait before sending the initial alert. During this period, Alertmanager will wait for Prometheus to send other alerts if they exist so they can be sent in the same batch. As we only have one alert, we&rsquo;ll select an arbitrary value of 30 seconds.</p>

<p>Next, using the <code>group_interval</code> interval, we&rsquo;ll define how long Alertmanager will wait before sending the next batch of alerts if there are new alerts in the same group. You&rsquo;re free to choose any value depending on your needs, but we&rsquo;ll set this to every 5 minutes.</p>

<p>The last interval we&rsquo;ll configure is the <code>repeat_interval</code>, which defines  how long Alertmanager will wait before it sends notification if alerts are not resolved yet. You can choose whatever value suits your needs, but we&rsquo;ll use the arbitrary value of 3 hours.</p>

<p>Lastly, using the <code>receiver</code> sub-directive, define who will receive notifications for the alerts. We&rsquo;ll use a receiver called <code>team-1</code>, which we will define later.</p>

<p>Modify the route directive so it looks like this:</p>
<div class="code-label " title="Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">route:
  group_by: ['instance', 'severity']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 3h
  receiver: <span class="highlight">team-1</span>
</code></pre>
<p>If you want to match and send notifications only about specific alerts, you can use the <code>match</code> and <code>match_re</code> sub-directives to filter out alerts by their label&rsquo;s value. The <code>match</code> sub-directive represents equality match, where the <code>match_re</code> sub-directive represents  matching via regular expressions.</p>

<p>Now we&rsquo;ll configure the <code>team-1</code> receiver so you can receive notifications for alerts. Under the <code>receivers</code> directive you can define receivers containing the name and appropriate configuration sub-directive. The list of available receivers and instructions on how to configure them is available as the part of <a href="https://prometheus.io/docs/alerting/configuration/#%3Creceiver">Alertmanager&rsquo;s documentation</a>.</p>

<p>In order to configure the <code>team-1</code> email receiver, we&rsquo;ll use the <code>email_configs</code> sub-directive under the <code>receivers</code> directive:</p>
<div class="code-label " title="Alertmanager config file part 3 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 3 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">receivers:
  - name: '<span class="highlight">team-1</span>'
    email_configs:
      - to: '<span class="highlight">your-email-address</span>'
</code></pre>
<p>At this point, you have configured Alertmanager to send notifications for alerts to your e-mail address. Your configuration file should look like:</p>
<div class="code-label " title="Alertmanager config file - /etc/alertmanager/alertmanager.yml">Alertmanager config file - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">global:
  smtp_smarthost: 'localhost:25'
  smtp_from: 'alertmanager@<span class="highlight">example.com</span>'
  smtp_require_tls: false

route:
  group_by: ['instance', 'severity']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 3h
  receiver: <span class="highlight">team-1</span>

receivers:
  - name: '<span class="highlight">team-1</span>'
    email_configs:
      - to: '<span class="highlight">your-email-address</span>'
</code></pre>
<p>In the next step, we&rsquo;ll configure Alertmanager to send alerts to your Slack channel. If you don&rsquo;t want to configure Slack, you can skip straight to step 10 where we&rsquo;ll create the service file and configure Prometheus to work with Alertmanager.</p>

<h2 id="step-8-—-configuring-alertmanager-to-send-alerts-over-slack">Step 8 — Configuring Alertmanager To Send Alerts Over Slack</h2>

<p>Before proceeding with this step, make sure you have created an Slack account and that you have a Slack workspace available.</p>

<p>To send alerts to Slack, first create an <a href="https://api.slack.com/incoming-webhooks">Incoming Webhook</a>.</p>

<p>Point your browser to the Incoming Webhook creation page available at <code>https://<span class="highlight">workspace-name</span>.slack.com/services/new/incoming-webhook/</code>. You&rsquo;ll get the page containing details about Incoming Webhooks as well as a dropdown from which you need to choose the channel where you want to send alerts.</p>

<p><img src="https://assets.digitalocean.com/articles/prometheus_blackbox_alertmanager_1604/uBKKA4O.png" alt="Slack Incoming Webhook"></p>

<p>Once you choose the channel, click on the  <strong>Add Incoming WebHooks integration</strong> button.</p>

<p>You&rsquo;ll see a new page confirming that the webhook was created successfully.  Copy the  <strong>Webhook URL</strong> displayed on this page, as you&rsquo;ll use it to configure Alertmanager&rsquo;s Slack notifications. </p>

<p>Open the Alertmanager configuration file in your editor to configure Slack notifications:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/alertmanager/alertmanager.yml
</li></ul></code></pre>
<p>First, add the <code>slack_api_url</code> sub-directive to the <code>global</code> part of your configuration, using the URL you got when you created the Slack Incoming Webhook.</p>
<div class="code-label " title="Alertmanager config file part 1 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 1 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre "><code langs="">global:
  smtp_smarthost: 'localhost:25'
  smtp_from: 'alertmanager@<span class="highlight">example.com</span>'
  smtp_require_tls: false

  slack_api_url: '<span class="highlight">your_slack_webhook_url</span>'
</code></pre>
<p>There are two ways to send alerts to multiple receivers:</p>

<ol>
<li>Include multiple receiver configurations under the same entry. This is the the least error-prone solution and the easiest method. </li>
<li>Create multiple receiver entries and nest multiple <code>route</code> directives. </li>
</ol>

<p>We won&rsquo;t cover the second approach in this tutorial, but if you&rsquo;re interested, take a look at the <a href="https://prometheus.io/docs/alerting/configuration/#route">Route configuration</a> portion of Alertmanager documentation.</p>

<p>In the <code>team-1</code> receiver, add a new sub-directive called <a href="https://prometheus.io/docs/alerting/configuration/#slack_config"><code>slack_configs</code></a> and provide the name of the channel that should receive alerts. In this case, we&rsquo;ll use use the <code>general</code> channel:</p>
<div class="code-label " title="Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml">Alertmanager config file part 2 - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre "><code langs="">receivers:
  - name: '<span class="highlight">team-1</span>'
    email_configs:
      - to: '<span class="highlight">your-email-address</span>'
    <span class="highlight">slack_configs:</span>
      <span class="highlight">- channel: '</span>general&lt;^&gt;'
</code></pre>
<p>Your completed configuration file will look like the following:</p>
<div class="code-label " title="Alertmanager config file - /etc/alertmanager/alertmanager.yml">Alertmanager config file - /etc/alertmanager/alertmanager.yml</div><pre class="code-pre yaml"><code langs="">global:
  smtp_smarthost: 'localhost:25'
  smtp_from: 'alertmanager@<span class="highlight">example.com</span>'
  smtp_require_tls: false

  slack_api_url: '<span class="highlight">your_slack_webhook_url</span>'

route:
  group_by: ['instance', 'severity']
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 3h
  receiver: <span class="highlight">team-1</span>

receivers:
  - name: '<span class="highlight">team-1</span>'
    email_configs:
      - to: '<span class="highlight">your-email-address</span>'
    slack_configs:
      - channel: '<span class="highlight">general</span>'
</code></pre>
<p>Save the file and exit your editor.</p>

<p>We&rsquo;re now ready to run Alertmanager for the first time.</p>

<h2 id="step-9-—-running-alertmanager">Step 9 — Running Alertmanager</h2>

<p>Let&rsquo;s get Alertmanager up and running. We&rsquo;ll first create a systemd unit file for Alertmanager to manage its service using <code>systemd</code>.  Then we&rsquo;ll update Prometheus to use Alertmanager.</p>

<p>Create a new <code>systemd</code> unit file and open it in your text editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/systemd/system/alertmanager.service
</li></ul></code></pre>
<p>Add the following to the file to configure systemd to run Alertmanager as the <strong>alertmanager</strong> user, using the configuration file located at <code>/etc/alertmanager/alertmanager.yml</code> and Alertmanager&rsquo;s URL, configured to use your server&rsquo;s IP address:</p>
<div class="code-label " title="/etc/systemd/system/alertmanager.service">/etc/systemd/system/alertmanager.service</div><pre class="code-pre "><code langs="">[Unit]
Description=Alertmanager
Wants=network-online.target
After=network-online.target

[Service]
User=alertmanager
Group=alertmanager
Type=simple
WorkingDirectory=/etc/alertmanager/
ExecStart=/usr/local/bin/alertmanager --config.file=/etc/alertmanager/alertmanager.yml --web.external-url http://<span class="highlight">your_server_ip</span>:9093

[Install]
WantedBy=multi-user.target
</code></pre>
<p>This will run Alertmanager as the <strong>alertmanager</strong> user. It also tells Alertmanager to use the URL <code>http://<span class="highlight">your_server_ip</span>:9093</code> for its Web UI, where <code>9093</code> is Alertmanager&rsquo;s default port. Be sure to include the protocol (<code>http://</code>) or things won&rsquo;t work.</p>

<p>Save the file and close your text editor.</p>

<p>Next, we need to tell Prometheus about Alertmanager by adding the appropriate Alertmanager service discovery directory to the Prometheus configuration file. By default, Alertmanager is running on port <code>9093</code>, and since it&rsquo;s on the same server as Prometheus, we&rsquo;ll use the address <code>localhost:9093</code>.</p>

<p>Open the Prometheus configuration file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/prometheus/prometheus.yml
</li></ul></code></pre>
<p>After the <code>rule_files</code> directive, add the following <code>alerting</code> directive:</p>
<div class="code-label " title="Prometheus configuration file - /etc/prometheus/prometheus.yml">Prometheus configuration file - /etc/prometheus/prometheus.yml</div><pre class="code-pre "><code langs="">&hellip;
rule_files:
  - alert.rules.yml

<span class="highlight">alerting:</span>
  <span class="highlight">alertmanagers:</span>
  <span class="highlight">- static_configs:</span>
    <span class="highlight">- targets:</span>
      <span class="highlight">- localhost:9093</span>
&hellip;
</code></pre>
<p>Once you&rsquo;re done, save the file and close your text editor.</p>

<p>In order to be able to follow URLs from the alerts you receive, you need to tell Prometheus the IP address or domain name of your server using the <code>-web.external-url</code> flag when you start Prometheus.</p>

<p>Open the <code>systemd</code> unit file for Prometheus:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/systemd/system/prometheus.service
</li></ul></code></pre>
<p>Replace the existing <code>ExecStart</code> line with the following one:</p>
<pre class="code-pre "><code langs="">ExecStart=/usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml \
    --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles \
    --web.console.libraries=/etc/prometheus/console_libraries \ 
    --web.external-url http://<span class="highlight">your_server_ip</span>
</code></pre>
<p>Your new Prometheus unit file will look like this:</p>
<div class="code-label " title="Prometheus service file - /etc/systemd/system/prometheus.service">Prometheus service file - /etc/systemd/system/prometheus.service</div><pre class="code-pre "><code langs="">[Unit]
Description=Prometheus
Wants=network-online.target
After=network-online.target

[Service]
User=prometheus
Group=prometheus
Type=simple
ExecStart=/usr/local/bin/prometheus --config.file /etc/prometheus/prometheus.yml \
    --storage.tsdb.path /var/lib/prometheus/ --web.console.templates=/etc/prometheus/consoles \
    --web.console.libraries=/etc/prometheus/console_libraries \ 
    --web.external-url http://<span class="highlight">your_server_ip</span>

[Install]
WantedBy=multi-user.target
</code></pre>
<p>Save the file and close your text editor.</p>

<p>Reload <code>systemd</code> and restart Prometheus to apply the changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl daemon-reload
</li><li class="line" prefix="$">sudo systemctl restart prometheus
</li></ul></code></pre>
<p>Make sure Prometheus is working as intended by checking the service&rsquo;s status:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status prometheus
</li></ul></code></pre>
<p>If the service&rsquo;s status isn&rsquo;t <code><span class="highlight">active (running)</span></code>, follow the on-screen logs and retrace the preceding steps to resolve the problem before continuing the tutorial.</p>

<p>Finally, start Alertmanager for the first time:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start alertmanager
</li></ul></code></pre>
<p>Check the service&rsquo;s status to make sure Alertmanager is working as intended:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status alertmanager
</li></ul></code></pre>
<p>If the service&rsquo;s status isn&rsquo;t <code><span class="highlight">active (running)</span></code>, follow the on-screen messages and retrace the preceding steps to resolve the problem before continuing the tutorial.</p>

<p>Lastly, enable the service to make sure Alertmanager will start when the system boots: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable alertmanager
</li></ul></code></pre>
<p>To access Alertmanager&rsquo;s Web UI, allow traffic to port <code>9093</code> through your firewall: </p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow 9093/tcp
</li></ul></code></pre>
<p>Alertmanager is now configured to send notifications for alerts via email and Slack. Let&rsquo;s ensure it works.</p>

<h2 id="step-10-—-testing-alertmanager">Step 10 — Testing Alertmanager</h2>

<p>Let&rsquo;s make sure Alertmanger is working correctly and sending emails and Slack notifications. We&rsquo;ll disable the endpoint by removing the Nginx server block you created in the prerequisite tutorials:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo rm /etc/nginx/sites-enabled/<span class="highlight">your_domain</span>
</li></ul></code></pre>
<p>Reload Nginx to apply the changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl reload nginx
</li></ul></code></pre>
<p>If you want to confirm it&rsquo;s actually disabled, you can point your web browser to your server&rsquo;s address. You should see a message indicating that the site is no longer reachable. If you don&rsquo;t, retrace the preceding steps and make sure you deleted correct server block and reloaded Nginx.</p>

<p>Depending on the <code>group_wait</code> interval, which is <strong>30 seconds</strong> in our case, you should receive email and Slack notifications after 30 seconds.</p>

<p>If you don&rsquo;t, check the service&rsquo;s status by using the following <code>status</code> commands and follow the on-screen logs to find the cause of the problem:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status alertmanager
</li><li class="line" prefix="$">sudo systemctl status prometheus
</li></ul></code></pre>
<p>You can also check the alert&rsquo;s status from the Prometheus Web UI, by pointing your web browser to the <code>http://<span class="highlight">your_server_ip</span>/alerts</code>. You&rsquo;ll be asked to enter the username and password you chose by following the Prometheus tutorial. By clicking on the alert name, you&rsquo;ll see the status, the alert rule, and associated labels:</p>

<p><img src="https://assets.digitalocean.com/articles/prometheus_blackbox_alertmanager_1604/ikIPV9Q.png" alt="Prometheus UI - alerts"></p>

<p>Once you&rsquo;ve verified Alertmanager is working, enable the endpoint by re-creating the symbolic link from the <code>sites-available</code> directory to the <code>sites-enabled</code> directory:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ln -s /etc/nginx/sites-available/<span class="highlight">your_domain</span> /etc/nginx/sites-enabled
</li></ul></code></pre>
<p>Reload Nginx once again to apply the changes:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo systemctl reload nginx
</li></ul></code></pre>
<p>In the next step, we&rsquo;ll look at how to use  Alertmanager&rsquo;s Command-Line Interface.</p>

<h2 id="step-11-—-managing-alerts-using-the-cli">Step 11 — Managing Alerts Using the CLI</h2>

<p>Alertmanager comes with the command-line tool <code>amtool</code>, which lets you monitor, manage and silence alerts.</p>

<p>The <code>amtool</code> tool requires you to provide the URL of Alertmanager using the <code>--alertmanager.url</code> flag every time you execute an command. In order to use <code>amtool</code> without providing the URL, we&rsquo;ll start by creating a configuration file.</p>

<p>Default locations for the configuration file are <code>$HOME/.config/amtool/config.yml</code>, which makes the configuration available only for your current user, and <code>/etc/amtool/config.yml</code>, which makes the configuration available for the every user on the server.</p>

<p>You&rsquo;re free to choose whatever suits your needs, but for this tutorial, we&rsquo;ll use the <code>$HOME/.config/amtool/config.yml</code> file.</p>

<p>First, create the directory. The <code>-p</code> flag tells <code>mkdir</code> to create any necessary parent directories along the way:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir -p $HOME/.config/amtool
</li></ul></code></pre>
<p>Create the <code>config.yml</code> file and open it in your text editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">nano $HOME/.config/amtool/config.yml
</li></ul></code></pre>
<p>Add the following line to tell <code>amtool</code> to use Alertmanager with the <code>http://localhost:9093</code> URL:</p>
<div class="code-label " title="~/.config/amtool/config.yml">~/.config/amtool/config.yml</div><pre class="code-pre "><code langs="">alertmanager.url: http://localhost:9093
</code></pre>
<p>Save the file and exit your text editor. </p>

<p>Now, we&rsquo;ll take a look at what we can do with the <code>amtool</code> command line tool.</p>

<p>Using the <code>amtool alert query</code> command, you can list all alerts that have been send to Alertmanager:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool alert query
</li></ul></code></pre>
<p>The output shows the alert&rsquo;s name, the time of the alert&rsquo;s first occurrence, and the alert&rsquo;s summary you provided when you configured it:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Alertname     Starts At                Summary
EndpointDown  2018-04-03 08:48:47 UTC  Endpoint http://localhost:8080 down
</code></pre>
<p>You can also filter alerts by their labels using the appropriate matcher. A matcher contains the label name, the appropriate operation, which can be <code>=</code> for full matching and <code>=~</code> for partial matching, and the label&rsquo;s value.</p>

<p>If you want to list all alerts that have a critical severity label attached, use the <code>severity=critical</code> matcher in the <code>alert query</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool alert query <span class="highlight">severity=critical</span>
</li></ul></code></pre>
<p>Like before, the output contains the alert&rsquo;s name, the time of alert&rsquo;s first occurrence and the alert&rsquo;s summary.</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>Alertname     Starts At                Summary
EndpointDown  2018-04-03 08:48:47 UTC  Endpoint http://localhost:8080 down
</code></pre>
<p>You can use regular expressions to match labels with the <code>=~</code> operator. For example, to list all alerts for <code>http://localhost</code> endpoints not depending on the port, you can use the <code>instance=~http://localhost.*</code> matcher:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool alert query <span class="highlight">instance=~http://localhost.*</span>
</li></ul></code></pre>
<p>As you have only one alert and endpoint, the output would be the same as in the previous example.</p>

<p>To look at the Alertmanager configuration, use the <code>amtool config</code> command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool config
</li></ul></code></pre>
<p>The output will contain the content of the <code>/etc/alertmanager/alertmanager.yml</code> file.</p>

<p>Now let&rsquo;s look at how to silence alerts using <code>amtool</code>.</p>

<p>Silencing alerts lets you mute alerts based on the matcher for a given time. During that period, you&rsquo;ll not receive any email or Slack notification for the silenced alert. </p>

<p>The <code>amtool silence add</code> command takes the matcher as an argument and creates a new <em>silence</em> based on the matcher.</p>

<p>To define the expiration of an alert, use the <code>--expires</code> flag with desired duration of the silence, such as <code>1h</code> or the <code>--expire-on</code> flag with the time of silence expiration in the <a href="https://www.ietf.org/rfc/rfc3339.txt">RFC3339 format</a>. For example, the format <code>2018-10-04T07:50:00+00:00</code> represents 07.50am on October 4th, 2018.</p>

<p>If the <code>--expires</code> or the <code>--expires-on</code> flag is not provided, alerts will be silenced for <strong>1 hour</strong>.</p>

<p>To silence all alerts for the <code>http://localhost:8080</code> instance for <strong>3 hours</strong>, you&rsquo;d use the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool silence add instance=<span class="highlight">http://localhost:8080</span> --expires <span class="highlight">3h</span>
</li></ul></code></pre>
<p>The output contains an identification number for the silence, so make sure to note it down as you&rsquo;ll need it in case you want to remove the silence:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">4e89b15b-0814-41d3-8b74-16c513611732</span>
</code></pre>
<p>If you want to provide additional information when creating the silence, such as the author and comments, use the <code>--author</code> and <code>--comment</code> flags:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool silence add severity=critical --expires 3h <span class="highlight">--author "Sammy The Shark" --comment "Investigating the progress"</span>
</li></ul></code></pre>
<p>Like before, the output contains the ID of the silence:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div><span class="highlight">12b7b9e1-f48a-4ceb-bd85-65ac882ceed1</span>
</code></pre>
<p>The command <code>amtool silence query</code> will show the list of all non-expired silences:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool silence query
</li></ul></code></pre>
<p>The output contains the ID of the silence, the list of matchers, the expiration timestamp, the author, and a comment:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>ID                                    Matchers                        Ends At                  Created By       Comment
12b7b9e1-f48a-4ceb-bd85-65ac882ceed1  severity=critical               2018-04-04 08:02:58 UTC  Sammy The Shark  Investigating in the progress
4e89b15b-0814-41d3-8b74-16c513611732  instance=http://localhost:8080  2018-04-04 08:14:21 UTC  sammy
</code></pre>
<p>Similar to the <code>alert query</code> command, you can use label matchers to filter the output by labels attached on creation:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool silence query instance=http://localhost:8080
</li></ul></code></pre>
<p>Like before, the output will include the ID number and details of the alert:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>ID                                    Matchers                        Ends At                  Created By  Comment
4e89b15b-0814-41d3-8b74-16c513611732  instance=http://localhost:8080  2018-04-04 08:14:21 UTC  sammy
</code></pre>
<p>Finally, to expire a silence, use the <code>amtool silence expire</code> with the ID of the silence you want to expire:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">amtool silence expire <span class="highlight">12b7b9e1-f48a-4ceb-bd85-65ac882ceed1</span>
</li><li class="line" prefix="$">amtool silence expire <span class="highlight">4e89b15b-0814-41d3-8b74-16c513611732</span>
</li></ul></code></pre>
<p>No output represents successful command execution. If you see an error, make sure you provided the correct ID of the silence.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial you configured Blackbox Exporter and Alertmanager to work together with Prometheus so you can receive alerts via email and Slack. You also used Alertmanager&rsquo;s command-line interface, <code>amtool</code>, to manage and silence alerts.</p>

<p>If you&rsquo;d like to learn more about other Alertmanager integrations, take a look at the [Configuration]((<a href="https://prometheus.io/docs/alerting/configuration/)">https://prometheus.io/docs/alerting/configuration/)</a>) portion of Alertmanager&rsquo;s documentation.</p>

<p>Also, you can take a look how to integrate Prometheus Alerts with other services such as <a href="http://docs.grafana.org/alerting/rules/">Grafana</a>.</p>

    </div>
</div>

<div class="tutorial-footer">
  
<div class='tutorial-footer-details'>

  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>

    <div class="author-byline">
      <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="/community/users/xmudrii">
            <img class="avatar avatar-large" src="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/users/avatars/large/a4404cd829f8d1cac5840bc5a609deb4dc904d55.png?1514932045" alt="A4404cd829f8d1cac5840bc5a609deb4dc904d55" />
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="/community/users/xmudrii">Marko Mudrinić</a></p>

      <p>
      </p>
    </li>
  </ul>
</div>

    </div>
  </div>
</div>


  <div class='section-content tutorial-contributors two'>
    <div class="component-collaborators-container">
      <ul class="component-collaborators-content">

          <li class="collaborator-byline-avatar">
            <a href="/community/users/bhogan">
                <div class="mod-avatar mod-avatar-large"><img alt="bhogan" class="avatar avatar-large" src="https://secure.gravatar.com/avatar/d753bf40d7283f16ec0db2c9b0d18b58?secure=true&d=identicon" width="80" height="80" /><span class="mod-star" title="MOD" data-toggle="tooltip" data-container="body"><span class="mod-star-icon" /></span></div>
</a>          </li>


        <li class="collaborators-byline-data">
            <p class="names">Editor: <a href="/community/users/bhogan">Brian Hogan</a></p>
        </li>
      </ul>
    </div>
  </div>

    
<div class="hsb--content">
  <div class="hsb--undo hsb--hide">
    <span class="icon icon-helpfulness-upvoted"></span>
    <span class="hsb--question">You rated this helpful.</span>
    <button name="button" type="submit" class="hsb--button-down hsb--vote-down-js" data-upvotable-type="Tutorial">Undo</button>
  </div>

  <div class="hsb--flagging-undo hsb--hide">
    <span class="icon icon-helpfulness-flag"></span>
    <span class="hsb--question">You reported this tutorial.</span>
    <button name="button" type="submit" class="hsb--button-down hsb--unflagging-js">Undo</button>
  </div>

  <div class="hsb--do">
    <span class="hsb--question">Was this helpful?</span>
    <button name="button" type="submit" class="hsb--button hsb--vote-up-js" data-upvotable-id="2634" data-upvotable-type="Tutorial">Yes</button>
    <button name="button" type="submit" class="hsb--button hsb--flagging-js" data-url="/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04/flag" data-flaggable-id="2634">No</button>
  </div>

  <div class="hsb--social-and-comments">
    <div class="hsb--social-sharing">
      <a target="_blank" class="share-popup" href="http://twitter.com/share?text=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare">
        <span class="icon icon-helpfulness-twitter"></span>
</a>
      <a target="_blank" class="share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare">
        <span class="icon icon-helpfulness-facebook"></span>
</a>
      <a target="_blank" class="share-popup" href="https://news.ycombinator.com/submitlink?t=How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04?utm_content=how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare">
        <span class="icon icon-helpfulness-hacker-news"></span>
</a>    </div>

    <div class="hsb--comment">
      <span class="icon icon-helpfulness-comment"></span>
      <strong class="amount">3</strong>
    </div>
  </div>
</div>


</div>


  
    <div class='related-tutorials'>
    <div class='section-content'>
      <h2>Related</h2>

      <ul>
        <li title="How To Install Graylog 1.x on CentOS 7">
  <a class="panel" href="/community/tutorials/how-to-install-graylog-1-x-on-centos-7">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Install Graylog 1.x on CentOS 7</h5>
      <p>In this tutorial, we will cover how to install Graylog v1.3.x (sometimes referred to as Graylog2) on CentOS 7, and configure it to gather the syslogs of your systems in a centralized location. Graylog is a powerful log management and analysis tool that has many use cases, from monitoring SSH logins and unusual activity to debugging applications. It is based on Elasticsearch, Java, and MongoDB.</p>
    </div>
  </a>
</li>
<li title="How To Query Prometheus on Ubuntu 14.04 Part 2">
  <a class="panel" href="/community/tutorials/how-to-query-prometheus-on-ubuntu-14-04-part-2">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Query Prometheus on Ubuntu 14.04 Part 2</h5>
      <p>Prometheus is an open source monitoring system and time series database. In part 2 of this series, you will build on the setup from the first part and learn more advanced querying techniques and patterns to apply value-based filtering, set operations, histograms, and more.</p>
    </div>
  </a>
</li>
<li title="How To Query Prometheus on Ubuntu 14.04 Part 1">
  <a class="panel" href="/community/tutorials/how-to-query-prometheus-on-ubuntu-14-04-part-1">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Query Prometheus on Ubuntu 14.04 Part 1</h5>
      <p>Prometheus is an open source monitoring system and time series database. In part 1 of this series, you will learn how to select and filter time series based on their dimensions, aggregate and transform time series, as well as how to do arithmetics between different metrics in Prometheus 1.3.1.</p>
    </div>
  </a>
</li>
<li title="How To Install Graylog2 And Centralize Logs On Ubuntu 14.04">
  <a class="panel" href="/community/tutorials/how-to-install-graylog2-and-centralize-logs-on-ubuntu-14-04">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Install Graylog2 And Centralize Logs On Ubuntu 14.04</h5>
      <p>In this tutorial, we will cover the installation of Graylog2 (v0.20.2), and configure it to gather the syslogs of our systems in a centralized location. Graylog2 is a powerful log management and analysis tool that has many use cases, from monitoring SSH logins and unusual activity to debugging applications. It is based on Elasticsearch, Java, MongoDB, and Scala.</p>
    </div>
  </a>
</li>

      </ul>
    </div>
  </div>


  <div class='looking-for-an-answer'>
  <div class='section-content'>
    <h4>Still looking for an answer?</h4>

    <div class="lfa--actions">
      <a href="/community/questions/new?tags=Monitoring%2CNginx" class="lfa--action-box">
        <span class="icon icon-look-for-answer-question"></span>
        Ask a question
      </a>
      <a href="#q" class="lfa--action-box">
        <span class="icon icon-look-for-answer-search-thin"></span>
        Search for more help
      </a>
    </div>
  </div>
</div>

</div>

<div class="content-comments">
  <div class="section-content">
    <div class="tutorial commentable" id="tutorial_2634">

  <div class="comments-header">
    <h4 class="comments-count">
        <span>3 Comments</span>
    </h4>
  </div>

    <div class="response response-form no-avatar">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form disabled-form" id="new_comment" action="/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

    <textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content tutorial-comment-field" data-markdown="true">
</textarea>

      <div class="log-in-notice "><a href="/community/auth/digitalocean">Log In to Comment</a></div>

    <div class='clearfix'></div>
</form>
</div>


  <div class="comments">
    <ul class="response-list">
          <a class="js-click-on-load hidden" rel="nofollow" data-remote="true" href="/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04/comments">Load</a>
    </ul>

      <div class='comments-spinner'><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div>
  </div>

  <div class='load-more-container'></div>
</div>


  </div>
</div>

<div class="creative-commons">
  <a class="creative-commons-image" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img rel="license" alt="Creative Commons License" src="/assets/community/creativecommons-08b32a9279fcd47fcd78ac6a26331389.png" /></a>
    <div class="license-text">This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</div>






        <div class="clearfix"></div>
      </div>

            <footer>
        <section>
            <a href="https://www.digitalocean.com/write-for-donations/" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/70910e9fdeb57be46aaa209ce8d9b4dc8e117fab_w4do2.jpg" alt="">
            </div>
            <span class="heading">Become a contributor</span>
            <p>
                You get paid; we donate to tech nonprofits.
            </p>
          </a>
            <a href="https://www.meetup.com/pro/digitalocean" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/2491485f96735e5982e330914d8a617f85395fab_meetups.jpg" alt="">
            </div>
            <span class="heading">Connect with other developers</span>
            <p>
                Find a DigitalOcean Meetup near you.
            </p>
          </a>
            <a href="https://www.digitalocean.com/community/newsletter" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/ca12c951cc76f33037f3384bba9942545d160d82_iaan_illo.jpg" alt="">
            </div>
            <span class="heading">Get our biweekly newsletter</span>
            <p>
                Sign up for Infrastructure as a Newsletter.
            </p>
          </a>
      </section>
      <section class="slim ">
        <span class="heading">Featured on Community</span>
            <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">Intro to Kubernetes</a>
            <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">Learn Python 3</a>
            <a href="https://www.digitalocean.com/community/tutorials/machine-learning-projects-python-a-digitalocean-ebook">Machine Learning in Python</a>
            <a href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go">Getting started with Go</a>
            <a href="https://www.digitalocean.com/community/tutorial_series/from-containers-to-kubernetes-with-node-js">Migrate Node.js to Kubernetes</a>
        <hr>
        <span class="heading">DigitalOcean Products</span>
            <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
            <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
            <a href="https://www.digitalocean.com/products/kubernetes/">Managed Kubernetes</a>
            <a href="https://www.digitalocean.com/products/spaces/">Spaces Object Storage</a>
            <a href="https://marketplace.digitalocean.com/">Marketplace</a>
      </section>
        <section class="product">
          <a class="copy" href="/products">
            <h3>Welcome to the developer cloud</h3>
            <p>DigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.</p>
            <span class="link_text">Learn More</a>
          </div>
          <div class="feature">
            <a class="img_wrap" href="/products">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/95c1215227aa7f39f2bd23076de28feb969741c7_cloud.digitalocean.com_projects_63f9252f-652b-4645-9c0c-bee96f2bc503_resources_ic0ce81-2.png" alt="DigitalOcean Cloud Control Panel">
            </a>
          </div>
        </section>
        <section class="dark">
          <div class="vlist grow">
            <a href="https://www.digitalocean.com">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50">
                <title>DigitalOcean Homepage</title>
                <g fill="#0080FF" fill-rule="evenodd">
                  <path
                    d="M24.9153 50v-9.661c10.226 0 18.1638-10.1413 14.2372-20.904-1.4406-3.983-4.6327-7.1751-8.6158-8.6158C19.774 6.921 9.6327 14.8305 9.6327 25.0565H0C0 8.7571 15.7627-3.9548 32.8531 1.3842c7.4576 2.3446 13.418 8.2768 15.7345 15.7344C53.9266 34.2373 41.2429 50 24.9153 50">
                  </path>
                  <path
                    d="M15.339 40.3672h9.6045v-9.6045H15.339zM7.9379 47.7684h7.401v-7.4012H7.938zM1.7514 40.3672H7.938v-6.1864H1.7514z">
                  </path>
                </g>
              </svg>
            </a>
            <br><br>
            © <script type="text/javascript">
              document.write(new Date().getFullYear());

            </script> DigitalOcean, LLC. All rights reserved.
          </div>

              <div class="vlist">
                <span class="heading">Company</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/about/">About</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/about/leadership/">Leadership</a>
                    </li>
                    <li>
                      <a href="https://blog.digitalocean.com/">Blog</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/careers/">Careers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/partners/">Partners</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/referral-program/">Referral Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/press/">Press</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/legal/">Legal &amp; Security</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Products</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/products/">Products Overview</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/pricing/">Pricing</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/kubernetes/">Kubernetes</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/spaces/">Spaces</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/marketplace/">Marketplace</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/load-balancer/">Load Balancers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/block-storage/">Block Storage</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/tools-and-integrations/">Tools &amp; Integrations</a>
                    </li>
                    <li>
                      <a href="https://developers.digitalocean.com/documentation/">API</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs">Documentation</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs/release-notes/">Release Notes</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Community</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/community/tutorials">Tutorials</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/questions">Q&amp;A</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tools">Tools and Integrations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tags">Tags</a>
                    </li>
                    <li>
                      <a href="https://ideas.digitalocean.com/">Product Ideas</a>
                    </li>
                    <li>
                      <a href="https://www.meetup.com/pro/digitalocean/?utm_source=do_www">Meetups</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/write-for-donations/">Write for DOnations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/droplets-for-demos/">Droplets for Demos</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/hatch/">Hatch Startup Program</a>
                    </li>
                    <li>
                      <a href="http://store.digitalocean.com/">Shop Swag</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/research/">Research Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/currents/">Currents Research</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/open-source/">Open Source</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Contact</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/support/">Support</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/sales/">Sales</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/#abuse">Report Abuse</a>
                    </li>
                    <li>
                      <a href="https://status.digitalocean.com/">System Status</a>
                    </li>
                </ul>
              </div>
        </section>
      </footer>


      <div id='sign-in-modal' class='modal fade mini-modal' style="display: none;">
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h1>Almost there!</h1>
        <a class='close-button' data-dismiss='modal' aria-label="close"  href=''><span class='icon icon-close-light'></span></a>
      </div>
      <div class='modal-body'>
        <div class='sign-in-message'>Sign into your account, or create a new one, to start interacting.</div>

        <div class='sign-in-modal-actions'>
          <a class="sign-in-link button blue-button" data-default-url="/community/auth/digitalocean" href="/community/auth/digitalocean">Log In</a>
          <a class="sign-up-link button blue-button" data-default-url="/community/auth/digitalocean?display=sessionless+register" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
        </div>
      </div>
    </div>
  </div>
</div>



      <script>
    $(function() {
      window.initHelpfulnessActions(2634);
    });
  </script>
  <script>
    $(function() {
      var p, h5, panel, remainingSpace;
      var lineHeight = 31, clamp = 1;

      var panels = document.querySelectorAll('li .panel-data');

      for (var i = 0, len = panels.length; i < len; i++) {
        panel = panels[i];

        p = panel.querySelector('p');
        h5 = panel.querySelector('h5');
        remainingSpace = panel.offsetHeight - h5.offsetHeight;

        // Clamp text only when the remaining space isn't enought for p content.
        if (remainingSpace < p.scrollHeight) {
          clamp = parseInt(p.offsetHeight / lineHeight);

          p.style.cssText = "-webkit-line-clamp:" + clamp +
            "; display: -webkit-box; -webkit-box-orient: vertical;";
        }
      }
    });
  </script>

  <script>
    $(function() {
      if (!!window.init_sharing) {
        window.init_sharing();
      }
      new window.NewsletterSignup();
      new window.GrowableMarkdown({ target: '[data-growable-markdown]' });
    });
  </script>
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"Article","name":"How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04","headline":"How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04","alternativeHeadline":"How To Use Alertmanager And Blackbox Exporter To Monitor Your Web Server On Ubuntu 16.04","description":"When problems arise, sending alerts to the appropriate team significantly speeds up identifying the root cause of an issue, allowing teams to resolve incidents quickly. Prometheus is an open-source monitoring system that collects metrics from...","keywords":"Monitoring,Nginx,May 2018","url":"https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.digitalocean.com/community/tutorials/how-to-use-alertmanager-and-blackbox-exporter-to-monitor-your-web-server-on-ubuntu-16-04"},"dateModified":"2018-06-08T14:53:23Z","inLanguage":"en","accessMode":"textual","accessModeSufficient":"textual","isAccessibleForFree":true,"license":"https://creativecommons.org/licenses/by-nc-sa/4.0/","publishingPrinciples":"https://www.digitalocean.com/community/tutorials/technical-recommendations-and-best-practices-for-digitalocean-s-tutorials","author":[{"@type":"Person","name":"Marko Mudrinić","@id":"https://www.digitalocean.com/community/users/xmudrii"}],"datePublished":"2018-05-11T20:27:20Z","editor":{"@type":"Person","name":"Brian Hogan","@id":"bhogan"},"image":{"@type":"ImageObject","url":"https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg","height":375,"width":750},"interactionStatistic":[{"@type":"InteractionCounter","interactionType":"http://schema.org/LikeAction","userInteractionCount":"5"},{"@type":"InteractionCounter","interactionType":"http://schema.org/CommentAction","userInteractionCount":"3"}],"sourceOrganization":{"@type":"Organization","name":"DigitalOcean Community","url":"https://www.digitalocean.com/community"},"publisher":{"@type":"Organization","name":"DigitalOcean","url":"https://www.digitalocean.com","logo":{"@type":"ImageObject","url":"https://assets.digitalocean.com/logos/DO_Logo_horizontal_blue.png","width":351,"height":60}}}
  </script>


    
  </body>
</html>
