<!DOCTYPE html>
<html lang="en">
  <head>
    <title>How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04 | DigitalOcean</title>

<meta name="description" content="A virtual private network, or VPN, allows you to securely encrypt traffic as it travels through untrusted networks, such as those at the coffee shop, a conference, or an airport. IKEv2, or Internet Key Exchange v2, is a...">
<meta name="keywords" content="VPN Security">

<meta name="og:title" content="How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04 | DigitalOcean">
<meta name="og:description" content="A virtual private network, or VPN, allows you to securely encrypt traffic as it travels through untrusted networks, such as those at the coffee shop, a conference, or an airport. IKEv2, or Internet Key Exchange v2, is a...">
<meta name="og:site_name" content="DigitalOcean">
<meta name="og:type" content="article">
<meta name="og:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

<meta name="twitter:site" content="DigitalOcean">
<meta name="twitter:title" content="How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04 | DigitalOcean">
<meta name="twitter:description" content="A virtual private network, or VPN, allows you to securely encrypt traffic as it travels through untrusted networks, such as those at the coffee shop, a conference, or an airport. IKEv2, or Internet Key Exchange v2, is a...">
<meta name="twitter:creator" content="DigitalOcean">
<meta name="twitter:card" content="photo" />
<meta name="twitter:url" content="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04"/>
<meta name="twitter:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

  <link rel='canonical' href='https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04'>

<link rel="preconnect" href="https://digitalocean.cdn.prismic.io">
<link rel="preconnect" href="https://hello.myfonts.net">


    <link rel="stylesheet" media="all" href="/assets/community/application-b828e623bec3c41208f9f701850222a0.css" />

    
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="dDF2u/F5fufLJXgZ3HpbXihb43SCNx7lY/k87DidLCtbrwSJ5+wgYM5JVhspwNFTknVrBpzlufiETvr5CtETvg==" />
    <script src="/assets/community/prerequisites-9a51dfaadf0d3629cc636286133a958d.js"></script>
    <script>
//<![CDATA[

  window.cookieDomain = '.digitalocean.com';

//]]>
</script><script src="https://assets.digitalocean.com/cookieConsent/cookieConsent.js"></script>
<link rel="stylesheet" href="https://assets.digitalocean.com/cookieConsent/cookieConsent.css">

    <script type="text/javascript">
  if(window.analytics=window.analytics||[],window.analytics.included)window.console&&console.error&&console.error("analytics.js included twice");else{window.analytics.included=!0,window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(a),window.analytics.push(n),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(a){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.9",window.analytics.load("puo3uv968t")}
  window.analytics.page();
</script>

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KHWBBT');
</script>
<!-- End Google Tag Manager -->

<script src="/assets/community/internalCookies-d2a3579f6b37d00c8045b16853b90462.js"></script>

      <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="alternate" type="application/rss+xml" title="RSS" href="/community/tutorials/feed">
    <script>
      window.comApp = {
        prefix: '/community',
        svgIconPath: 'https://www.digitalocean.com/assets/community/icon-sprite-d76eb75d70ccf8ffb4c0b47b7dbc88ca.svg',
        railsEnv: 'production',
        rootUrl: 'https://www.digitalocean.com/community',
        algolia_application_id: '6ZHEUVKJ88',
        algolia_api_key: 'c5470567eae7fa1177d43222e18ba086'
      };
    </script>
      <script src="https://go.digitalocean.com/js/forms2/js/forms2.min.js"></script>

    <script src="/assets/community/application-dd2f12c7d68945c016e67a784d8785fc.js"></script>
  </head>
  <body class="feature-filter-bar feature-upvotes tutorials-controller tutorial-single" data-env="production" data-prefix="/community" data-user-id="" data-facebook-app-id="694818843983011"   data-completed-tutorial-id="" data-tutorial-id="2261" data-js="tutorial"
  data-upvote="null"
  data-flagged=""
>
    

    <div class='outside_viewport'>
        <div id="contents-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Contents</h1>
          <button class="close-button icon icon-close-light" data-dismiss="modal" aria-label="close"></button>
        </div>
        <div class="modal-body">
          <div class="table-of-contents-modal"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="top ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="table-of-contents">
    <div data-js="tableOfContentsDesktop"></div>
  </div>
  
  
  
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="bottom ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>

              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

    <div id="newsletter-signup-dialog" class="newsletter-signups-dialog" data-newsletter-signup-dialog data-article-target=".content-body">
  <div class="form-message">
  <div class="pull-right">
    <a href="javascript:;" class="newsletter-signups-dialog-dismiss" data-newsletter-signup-dismiss>&times;</a>

  </div>
  <h4 class="newsletter-signups-dialog-title">
    Sign up for our newsletter.
  </h4>
  <p class="newsletter-signups-dialog-description">
    Get the latest tutorials on SysAdmin and open source topics.
  </p>
  <form class="newsletter-signup" id="new_newsletter_signup" data-newsletter-signup="true" action="/community/newsletter" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

  <input data-newsletter-signup-field="url" type="hidden" name="newsletter_signup[url]" id="newsletter_signup_url" />
  <input data-newsletter-signup-field="title" type="hidden" name="newsletter_signup[title]" id="newsletter_signup_title" />

  <div class="newsletter-signup-ajax-error" data-newsletter-signup-ajax-error></div>


  <div class="form-group">
    <input placeholder="Enter your email address" required="required" class="field" type="email" name="newsletter_signup[email]" id="newsletter_signup_email" />
  </div>

  <button data-disable-with="Sign Up" class="button blue-button">
    Sign Up
  </button>

</form>

</div>

<div class="thanks-message hidden" data-newsletter-signup-successful> 
  <div class='pull-right'> 
    <a href='javascript:;' class='newsletter-signups-dialog-dismiss icon icon-close-light' data-newsletter-signup-dismiss></a> 
  </div> 

  <span class='newsletter-signups-dialog-success'> 
    Thanks for signing up! 
  </span> 
</div>

</div>


      
    </div>

      
      
<div style="display: none;">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="do_nav-logo" xmlns="http://www.w3.org/2000/svg"> <title>DigitalOcean home</title> <g fill="currentColor" fill-rule="evenodd"> <path d="M14.4942 29v-5.5674c5.9572 0 10.5633-5.8478 8.2892-12.059-.8425-2.3006-2.693-4.1355-5.0126-4.9706-6.262-2.2534-12.1564 2.3135-12.1573 8.2207 0 0-.0006.0014-.0014.0014H0C0 5.2123 9.1687-2.1167 19.1138.9624c4.3459 1.3457 7.7993 4.7708 9.1561 9.081C31.3742 19.9068 23.985 29 14.4942 29"></path> <path d="M14.507 23.4468H8.9103v-5.549s.0005-.0011.0011-.0011h5.5949c.0006 0 .0009.0006.0009.0006v5.5495M8.9093 27.7118H4.6105l-.0012-.0012v-4.2638h4.3009v4.2638l-.0009.0012M4.6125 23.4468H1.0088c-.0015 0-.0026-.0012-.0026-.0012v-3.5724s.0011-.0025.0026-.0025h3.601c.0015 0 .0027.0011.0027.0011v3.575M43.2806 9.6357h1.649c1.8346 0 3.345.358 4.49 1.0647 1.2714.7603 1.9164 2.2069 1.9164 4.2991 0 2.1554-.6465 3.6671-1.9207 4.4942h-.0008c-1.0971.7196-2.5981 1.0846-4.462 1.0846h-1.6719V9.6357zm8.324-1.0736c-1.6598-1.142-3.7252-1.721-6.1387-1.721h-5.2537V23.373h5.2537c2.4074 0 4.4737-.6113 6.1407-1.8157.907-.6382 1.6197-1.5304 2.1185-2.651.4962-1.1144.7479-2.4288.7479-3.9067 0-1.4605-.2517-2.758-.7482-3.857-.4988-1.104-1.212-1.972-2.1202-2.5804zM58.1303 6.6376c-.5051 0-.9403.1777-1.2906.5254-.3546.335-.5346.7597-.5346 1.2618 0 .501.1791.9322.532 1.2825.3529.35.788.528 1.2932.528.5042 0 .9394-.178 1.2928-.528.3535-.3508.5324-.7821.5324-1.2825 0-.5015-.18-.926-.5324-1.2592-.3534-.3503-.7886-.528-1.2928-.528M56.6247 23.3729h2.9538V11.7294h-2.9538zM69.5321 19.5787c-.5162.5814-1.1793.8635-2.0264.8635-.8471 0-1.5064-.282-2.015-.863-.5065-.5777-.7637-1.3439-.7637-2.2773 0-.9479.2572-1.7238.764-2.3058.502-.576 1.1796-.8683 2.0147-.8683.8465 0 1.5096.284 2.0262.8695.5142.582.7751 1.3573.7751 2.3046 0 .9328-.2609 1.6988-.7749 2.2768zm.775-6.8767c-.8908-.7858-1.8858-1.2444-2.9614-1.2444-1.6305 0-2.9859.5598-4.0276 1.662-1.0555 1.0932-1.5907 2.5006-1.5907 4.1823 0 1.644.5269 3.0464 1.568 4.1709 1.0498 1.088 2.4123 1.6396 4.0503 1.6396 1.139 0 2.1182-.3144 2.9157-.9356v.268c0 .9662-.2608 1.7176-.7751 2.234-.5137.5154-1.226.7764-2.1173.7764-1.3637 0-2.2183-.5314-3.2589-1.9262l-2.0115 1.917.0542.0754c.4346.605 1.1 1.197 1.9785 1.7594.8787.5603 1.9832.8447 3.2832.8447 1.7536 0 3.1726-.5363 4.2172-1.5933 1.0506-1.0628 1.5835-2.486 1.5835-4.2286V11.7294H70.307v.9726zM75.7434 23.3729h2.9541V11.7294h-2.9541zM77.249 6.6376c-.5052 0-.94.1777-1.2906.5254-.3547.335-.5344.7597-.5344 1.2618 0 .501.1789.9322.532 1.2825.353.35.7878.528 1.293.528.5045 0 .9396-.178 1.2928-.528.3535-.3508.5323-.7821.5323-1.2825 0-.5015-.1797-.926-.5323-1.2592-.3532-.3503-.7883-.528-1.2929-.528M85.1724 8.5831h-2.9082v3.1463h-1.6888v2.6702h1.6888v4.8365c0 1.5134.3047 2.5964.9064 3.2181.6031.6247 1.6741.9414 3.1831.9414.48 0 .963-.0156 1.4354-.0463l.133-.0088v-2.6683l-1.013.0526c-.7033 0-1.1728-.1226-1.3961-.3637-.226-.245-.3406-.7636-.3406-1.5404v-4.421h2.7497v-2.6703h-2.7497V8.583M101.7735 23.3729h2.9544V6.8412h-2.9544zM134.5728 19.2094c-.5286.5874-1.0693 1.0966-1.4855 1.3613v.0005c-.4085.2599-.924.3918-1.532.3918-.8703 0-1.5703-.3144-2.1405-.9621-.567-.644-.8545-1.4716-.8545-2.4613s.2838-1.8162.8436-2.4556c.5625-.6434 1.2588-.9562 2.1285-.9562.9515 0 1.9548.5869 2.8145 1.5947l1.9525-1.8568c-1.273-1.6433-2.897-2.4081-4.8352-2.4081-1.622 0-3.028.5862-4.1788 1.7411-1.1446 1.147-1.7251 2.6074-1.7251 4.3409 0 1.7335.58 3.1977 1.7234 4.352 1.1447 1.1557 2.5514 1.7417 4.1805 1.7417 2.139 0 3.8651-.9158 5.029-2.5935l-1.9204-1.8304M140.2405 16.0973c.1422-.5567.401-1.0207.7714-1.381.4005-.3906.9214-.5885 1.5489-.5885.716 0 1.2702.2019 1.6474.6014.3495.3696.5467.8296.588 1.368h-4.5557zm6.4569-2.7414c-.4191-.5788-.9896-1.0448-1.6965-1.3854-.7047-.3404-1.526-.513-2.441-.513-1.6489 0-2.9982.6037-4.0113 1.7946-.9836 1.182-1.4818 2.651-1.4818 4.3665 0 1.7648.547 3.2253 1.6254 4.341 1.0727 1.1105 2.5083 1.6737 4.267 1.6737 1.992 0 3.627-.799 4.8587-2.3752l.0666-.0847-1.9273-1.837c-.1789.2139-.4317.4561-.6628.6722-.2918.273-.5659.4842-.8588.6289-.4415.218-.9369.3255-1.4907.3255-.8187 0-1.4964-.2388-2.0147-.71-.4847-.4403-.768-1.0345-.843-1.7683h7.8265l.0264-1.0693c0-.7569-.1038-1.4862-.3088-2.1677a6.312 6.312 0 0 0-.934-1.8918zM152.797 18.9234c.3352-.2318.8085-.3483 1.4073-.3483.7112 0 1.4654.1413 2.2426.421v1.1421c-.6421.592-1.4996.8922-2.5499.8922-.5114 0-.909-.1126-1.1822-.3355-.2683-.218-.3985-.4955-.3985-.847 0-.3994.1571-.7022.4808-.9245zm5.2452-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.678-1.143-.9829 0-1.902.2144-2.7336.6324-.7691.387-1.5245 1.0275-2.0043 1.8662l.0298.0358 1.8917 1.796c.7791-1.2322 1.6454-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5819.7304.5819 1.249v.5652c-.7324-.221-1.4629-.333-2.1738-.333-1.47 0-2.6663.3432-3.555 1.0193-.9.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1461 2.6433.7677.6372 1.7275.961 2.8524.961 1.1246 0 2.177-.4495 3.132-1.2191v.9587h2.9089v-7.4852c0-1.4173-.4572-2.523-1.3591-3.2872zM170.7656 12.8285c-.8227-.9092-1.9791-1.371-3.4371-1.371-1.172 0-2.1236.3338-2.8357.9926v-.7207h-2.897v11.6435h2.954v-6.4215c0-.8823.2119-1.5828.6293-2.0826.4162-.4987.989-.741 1.75-.741.6691 0 1.1765.2167 1.5506.662.3759.4474.5662 1.0638.5662 1.8335v6.7496H172v-6.7496c0-1.6127-.415-2.889-1.2344-3.7948M92.8158 18.9234c.3351-.2318.8087-.3483 1.4075-.3483.7112 0 1.4652.1413 2.2426.421v1.1421c-.6421.592-1.4998.8922-2.5502.8922-.5114 0-.9087-.1126-1.1819-.3355-.2683-.218-.3988-.4955-.3988-.847 0-.3994.1574-.7022.4808-.9245zm5.2451-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.6776-1.143-.983 0-1.902.2144-2.7337.6324-.7694.387-1.5247 1.0275-2.0043 1.8662l.0295.0358 1.8917 1.796c.7792-1.2322 1.6458-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5822.7304.5822 1.249v.5652c-.7327-.221-1.4631-.333-2.174-.333-1.47 0-2.6664.3432-3.555 1.0193-.8999.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1463 2.6433.7677.6372 1.7272.961 2.8524.961 1.1246 0 2.1766-.4495 3.1318-1.2191v.9587H99.42v-7.4852c0-1.4173-.457-2.523-1.359-3.2872zM115.4464 9.5808c-3.0682 0-5.5645 2.4755-5.5645 5.5188s2.4963 5.5188 5.5645 5.5188c3.0682 0 5.5645-2.4755 5.5645-5.5188s-2.4963-5.5188-5.5645-5.5188zm0 14.0408c-4.7383 0-8.5928-3.8228-8.5928-8.522 0-4.6994 3.8545-8.5223 8.5928-8.5223 4.738 0 8.5925 3.8229 8.5925 8.5223 0 4.6992-3.8545 8.522-8.5925 8.522z"></path> </g> </symbol>
    <symbol id="do_nav-community_logo" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 532.2 99.8" fill="currentColor"> <path class="st0" d="M98.5,23c15.5,0,27.7,12.1,27.7,28.2c0,16.1-12.3,28.1-27.7,28.1c-15.6,0-27.7-11.9-27.7-28.1 C70.8,35.1,82.9,23,98.5,23z M98.5,67.9c8.7,0,14.9-7,14.9-16.8c0-9.8-6.2-16.8-14.9-16.8c-8.8,0-15,7-15,16.8 C83.5,60.9,89.7,67.9,98.5,67.9z"/> <path class="st0" d="M166.8,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"/> <path class="st0" d="M255.5,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"/> <path class="st0" d="M322.5,56.4c0,7,3.6,11.6,10.1,11.6c7.2,0,11.2-5.6,11.2-13.5V24.3h12.5V78h-12.3v-4.4 c-3.4,3.7-8.1,5.6-13.9,5.6c-11.9,0-20.1-8.4-20.1-23.7V24.3h12.5V56.4z"/> <path class="st0" d="M378.2,78h-12.5V24.3h12.3v4.4c2.7-3.1,7.7-5.7,13.9-5.7c13.1,0,21.3,8.5,21.3,23.8V78h-12.5V46.8 c0-7.5-3.7-12.5-10.6-12.5c-7.8,0-11.8,5.6-11.8,14V78z"/> <path class="st0" d="M427.8,0.2c4.4,0,7.9,3.4,7.9,7.8s-3.5,7.9-7.9,7.9c-4.4,0-7.9-3.5-7.9-7.9S423.4,0.2,427.8,0.2z M421.4,24.3 h12.5V78h-12.5V24.3z"/> <path class="st0" d="M446.7,59.1V35.5h-6.5V24.3h6.5v-15H459v15h12.2v11.2H459v21.7c0,7.8,1.8,9.8,8.8,9.8c1.2,0,4.1-0.2,4.1-0.2 v11.2c0,0-2.4,0.2-6.7,0.2C451.2,78.1,446.7,72.7,446.7,59.1z"/> <path class="st0" d="M497.3,78.7l-21.3-54.4h14.2l14,38.8l14.2-38.8h13.6l-24.1,60.2c-3.7,9.4-7.2,15.3-21.3,15.3 c-2.5,0-4.8-0.1-4.8-0.1V88c0,0,1.5,0.1,2.8,0.1c7.6,0,9.8-2.3,11.8-7.8L497.3,78.7z"/> <path class="st0" d="M62.4,55.9c-5.3,7-12.2,11.4-22.1,11.4c-15.6,0-27-11.7-27-27.5c0-16.1,11.4-27.8,26.5-27.8 c10,0,16.8,4.8,21.3,11.3l8.4-8.8C63.1,5.7,53.3,0,39.7,0C17.1,0,0,15.9,0,39.8c0,23.4,17.1,39.4,40.1,39.4c13.1,0,22-4.9,28.6-12.2 L62.4,55.9z"/> </symbol>
    <symbol id="do_nav-control_panel_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M19.6875 23.4862C19.6885 23.9722 19.4965 24.4388 19.1537 24.7833C18.8109 25.1279 18.3454 25.3222 17.8594 25.3237H3.23438C2.99366 25.3232 2.75539 25.2753 2.53321 25.1827C2.31102 25.09 2.10927 24.9545 1.93949 24.7839C1.7697 24.6132 1.63522 24.4108 1.54373 24.1881C1.45223 23.9655 1.40552 23.727 1.40626 23.4862V3.25498C1.40577 3.01417 1.45271 2.77562 1.54441 2.55295C1.63611 2.33028 1.77077 2.12785 1.9407 1.95722C2.11063 1.7866 2.31251 1.65111 2.5348 1.5585C2.75709 1.46589 2.99545 1.41797 3.23626 1.41748L17.8613 1.44186C18.347 1.44384 18.812 1.63843 19.1544 1.98292C19.4968 2.32741 19.6885 2.79366 19.6875 3.27936V23.4862Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M43.5863 12.27C43.5828 12.7516 43.3883 13.212 43.0456 13.5503C42.7028 13.8885 42.2397 14.0768 41.7582 14.0738H27.1332C26.8947 14.0755 26.6582 14.0302 26.4372 13.9405C26.2162 13.8507 26.015 13.7183 25.8453 13.5508C25.6755 13.3833 25.5404 13.1839 25.4477 12.9642C25.355 12.7444 25.3065 12.5085 25.3051 12.27V3.24565C25.308 2.76461 25.5019 2.30442 25.8439 1.96621C26.186 1.62799 26.6484 1.43941 27.1294 1.4419L41.7544 1.41753C42.2365 1.41403 42.7002 1.60205 43.0437 1.94027C43.3872 2.27849 43.5823 2.73924 43.5863 3.22128V12.27Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M19.6875 41.7956C19.686 42.0347 19.6375 42.2712 19.5446 42.4915C19.4518 42.7118 19.3164 42.9117 19.1463 43.0797C18.9762 43.2477 18.7747 43.3806 18.5532 43.4707C18.3318 43.5609 18.0947 43.6065 17.8556 43.605L3.23063 43.5806C2.74908 43.5826 2.28644 43.3934 1.94436 43.0545C1.60228 42.7155 1.40873 42.2547 1.40625 41.7731V32.7563C1.40748 32.5175 1.45575 32.2813 1.54831 32.0612C1.64087 31.8412 1.7759 31.6415 1.94569 31.4736C2.11547 31.3057 2.31667 31.173 2.53779 31.0829C2.75892 30.9929 2.99562 30.9473 3.23438 30.9488H17.8594C18.3414 30.9463 18.8047 31.1352 19.1475 31.4742C19.4903 31.8131 19.6845 32.2742 19.6875 32.7563V41.7956Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M27.1349 43.605C26.894 43.6045 26.6555 43.5565 26.433 43.4638C26.2106 43.3711 26.0087 43.2354 25.8387 43.0646C25.6688 42.8937 25.5341 42.6911 25.4426 42.4682C25.351 42.2453 25.3042 42.0066 25.3049 41.7656V21.5381C25.3042 21.2973 25.3509 21.0587 25.4424 20.8359C25.5338 20.6132 25.6683 20.4106 25.8381 20.2398C26.0078 20.069 26.2095 19.9333 26.4317 19.8405C26.6539 19.7476 26.8923 19.6995 27.1331 19.6987H41.7581C41.9989 19.6995 42.2372 19.7476 42.4594 19.8405C42.6816 19.9333 42.8833 20.069 43.0531 20.2398C43.2228 20.4106 43.3573 20.6132 43.4488 20.8359C43.5402 21.0587 43.5869 21.2973 43.5862 21.5381V41.7412C43.5872 42.2271 43.3955 42.6935 43.0532 43.0383C42.7109 43.3831 42.2458 43.5781 41.7599 43.5806L27.1349 43.605Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-community_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0)"> <path d="M12.6562 10.5469C12.6562 9.85155 12.8624 9.17184 13.2487 8.5937C13.635 8.01556 14.1841 7.56495 14.8265 7.29886C15.4689 7.03277 16.1758 6.96315 16.8577 7.0988C17.5397 7.23445 18.1661 7.56929 18.6578 8.06095C19.1495 8.55262 19.4843 9.17905 19.6199 9.86101C19.7556 10.543 19.686 11.2499 19.4199 11.8922C19.1538 12.5346 18.7032 13.0837 18.1251 13.47C17.5469 13.8563 16.8672 14.0625 16.1719 14.0625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M16.1719 18.2812C16.0328 18.2812 15.8969 18.3225 15.7812 18.3997C15.6656 18.477 15.5755 18.5868 15.5223 18.7153C15.4691 18.8438 15.4551 18.9852 15.4823 19.1215C15.5094 19.2579 15.5764 19.3832 15.6747 19.4816C15.773 19.5799 15.8983 19.6469 16.0347 19.674C16.1711 19.7011 16.3125 19.6872 16.4409 19.634C16.5694 19.5808 16.6792 19.4906 16.7565 19.375C16.8338 19.2594 16.875 19.1234 16.875 18.9844C16.875 18.7979 16.8009 18.6191 16.6691 18.4872C16.5372 18.3553 16.3584 18.2812 16.1719 18.2812Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M32.3438 4.21875V12.6562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M29.5312 1.40625C30.2772 1.40625 30.9925 1.70257 31.52 2.23001C32.0474 2.75746 32.3438 3.47283 32.3438 4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.21875 1.40625H29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M1.40625 4.21875C1.40625 3.47283 1.70257 2.75746 2.23001 2.23001C2.75746 1.70257 3.47283 1.40625 4.21875 1.40625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M1.40625 23.9062V4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M4.21875 26.7188C3.47283 26.7187 2.75746 26.4224 2.23001 25.895C1.70257 25.3675 1.40625 24.6522 1.40625 23.9062" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9.84375 26.7188H4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9.84375 35.1562V26.7188" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M15.4688 30.9375L9.84375 35.1562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M43.5938 35.1562H37.9688V43.5938L29.5312 35.1562H21.0938V18.2812H43.5938V35.1562Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> <path d="M32.3438 23.9062V29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/> </g> <defs> <clipPath id="clip0"> <rect width="45" height="45" fill="white"/> </clipPath> </defs> </symbol>
    <symbol id="do_nav-search" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></symbol>
    <symbol id="do_nav-logomark" x="0px" y="0px" viewBox="65.2 173.5 180 180" fill="currentColor"><path d="M155.2,351.7v-34.2c36.2,0,64.3-35.9,50.4-74c-5.1-14.1-16.4-25.4-30.5-30.5c-38.1-13.8-74,14.2-74,50.4l0,0H67c0-57.7,55.8-102.7,116.3-83.8c26.4,8.3,47.5,29.3,55.7,55.7C257.9,295.9,213,351.7,155.2,351.7z"/> <polygon points="155.3,317.6 121.3,317.6 121.3,283.6 121.3,283.6 155.3,283.6 155.3,283.6"/> <polygon points="121.3,343.8 95.1,343.8 95.1,343.8 95.1,317.6 121.3,317.6"/> <path d="M95.1,317.6H73.2l0,0v-21.9l0,0h21.9l0,0V317.6z"/></symbol>
    <symbol id="do_nav-write4do" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M16.3063 17.67L11.6663 18.3338L12.3288 13.6925L24.2613 1.76002C24.7887 1.23257 25.5041 0.936249 26.25 0.936249C26.6194 0.936249 26.9851 1.009 27.3263 1.15034C27.6675 1.29168 27.9776 1.49885 28.2388 1.76002C28.4999 2.02118 28.7071 2.33123 28.8484 2.67246C28.9898 3.01369 29.0625 3.37942 29.0625 3.74877C29.0625 4.11811 28.9898 4.48384 28.8484 4.82507C28.7071 5.1663 28.4999 5.47635 28.2388 5.73752L16.3063 17.67Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M22.935 3.08624L26.9125 7.06374"  stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M23.4375 17.8125V27.1875C23.4375 27.6848 23.24 28.1617 22.8883 28.5133C22.5367 28.865 22.0598 29.0625 21.5625 29.0625H2.8125C2.31522 29.0625 1.83831 28.865 1.48667 28.5133C1.13504 28.1617 0.9375 27.6848 0.9375 27.1875V8.4375C0.9375 7.94022 1.13504 7.46331 1.48667 7.11167C1.83831 6.76004 2.31522 6.5625 2.8125 6.5625H12.1875" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-meetups" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M27.1901 4.6875H2.81506C1.77953 4.6875 0.940063 5.52697 0.940063 6.5625V27.1875C0.940063 28.223 1.77953 29.0625 2.81506 29.0625H27.1901C28.2256 29.0625 29.0651 28.223 29.0651 27.1875V6.5625C29.0651 5.52697 28.2256 4.6875 27.1901 4.6875Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M0.940063 12.1875H29.0651" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M8.44006 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M21.5651 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
    <symbol id="do_nav-hacktoberfest" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M19.2063 24.9918L16.5714 22.3569V14.4854L13.986 17.0708V23.5755L12.5615 25L11.1371 23.5591V8.44175L10.7419 8.04652L8.93042 9.8662L8 8.94401L11.9358 5.00823L11.944 5.01647L12.1005 5.16468L13.9778 7.04199V13.8431L16.5632 11.2577V8.42528L15.2705 7.12433L17.3948 5L19.4286 7.03376V20.9572L20.4249 21.9535L21.6352 20.7431L22.5492 21.6571L19.2063 24.9918Z" fill="currentcolor"/> <rect x="0.75" y="0.75" width="28.5" height="28.5" rx="2.25" stroke-width="1.5" stroke="currentColor"/> </symbol>
    <symbol id="do_nav-build" viewBox="0 0 16 16" fill="none" stroke="currentColor"> <path d="M1.5 14.5C1.23478 14.5 0.98043 14.3946 0.792893 14.2071C0.605357 14.0196 0.5 13.7652 0.5 13.5V2.57667C0.500879 2.29139 0.614596 2.01804 0.81632 1.81632C1.01804 1.6146 1.29139 1.50088 1.57667 1.5H14.4287C14.7125 1.50088 14.9845 1.61403 15.1852 1.81476C15.386 2.01548 15.4991 2.28747 15.5 2.57133V13.4233C15.4991 13.7086 15.3854 13.982 15.1837 14.1837C14.982 14.3854 14.7086 14.4991 14.4233 14.5H1.5Z" stroke-linecap="round" stroke-linejoin="round"/> <path d="M15.5 4.5H0.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M11 7.5L13 9.5L11 11.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M5 7.5L3 9.5L5 11.5" stroke-linecap="round" stroke-linejoin="round"/> <path d="M9 7.5L7 11.5" stroke-linecap="round" stroke-linejoin="round"/> </symbol>
  </svg>
</div>

<nav class="do_nav" role="navigation" aria-label="Navigation">
  <ul role="menubar" class="utility">
    <li role="banner" data-flex="grow" data-show="always">
    </li>
    <li role="menuitem">
      <a href="/products/">Products</a>
    </li>
    <li role="menuitem">
      <a href="/pricing/">Pricing</a>
    </li>
    <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Docs</span>
      <div class="mini" aria-expanded="false">
        <ul role="menu">
          <li role="menuitem">
            <a href="/docs/">Product Docs</a>
          </li>
          <li role="menuitem">
            <a href="https://developers.digitalocean.com/documentation/">API Docs</a>
          </li>
        </ul>
      </div>
    </li>
      <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Log in</span>
        <div class="mini" aria-expanded="false">
          <header>Log in to</header>
          <ul role="menu">
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#do_nav-community_icon"></use>
              </svg>
              <a id="log-in" href="/community/auth/digitalocean">Community</a>
            </li>
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#do_nav-control_panel_icon"></use>
              </svg>
              <a href="https://cloud.digitalocean.com/registrations/new">Control Panel</a>
            </li>
          </ul>
        </div>
      </li>
  </ul>

  <ul role="menubar" class="primary">
    <li role="menuitem" data-show="always">
      <a href="https://www.digitalocean.com/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto">
          <use xlink:href="#do_nav-logomark"></use>
        </svg>
      </a>
    </li>
    <li role="menuitem" data-show="always">
      <a role="home" title="DigitalOcean Community Home" href="/community">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="120px" height="24px"
             shape-rendering="auto">
          <use xlink:href="#do_nav-community_logo"></use>
        </svg>
</a>    </li>
    <li role="menuitem">
      <a data-activatable="true" href="/community/tutorials">Tutorials</a>
    </li>
    <li role="menuitem">
      <a data-activatable="true" href="/community/questions">Questions</a>
    </li>
    <li role="menuitem" aria-haspopup="true" class="mega_parent" tabindex="0">
      <span class="expander">Get Involved</span>
      <div class="mega" aria-expanded="false">
        <div class="section column">
          <header>Participate</header>
          <ul role="menu">
            <li role="menuitem">
              <a href="https://www.digitalocean.com/write-for-donations/" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-write4do"></use>
                </svg>
                <p>
                  <strong>Write for DigitalOcean</strong>
                  You get paid, we donate to tech non-profits.
                </p>
              </a>
            </li>
            <li role="menuitem">
              <a href="https://www.meetup.com/pro/digitalocean" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-meetups"></use>
                </svg>
                <p>
                  <strong>DigitalOcean Meetups</strong>
                  Find and meet other developers in your city.
                </p>
              </a>
            </li>
            <li role="menuitem">
              <a href="https://hacktoberfest.digitalocean.com" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#do_nav-hacktoberfest"></use>
                </svg>
                <p>
                  <strong>Hacktoberfest</strong>
                  Contribute to Open Source
                </p>
              </a>
            </li>
          </ul>
        </div>
        <div class="section column">
          <header>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <use xlink:href="#do_nav-build"></use>
            </svg>
            Build with DigitalOcean
          </header>
          <ul role="menu" class="indent">
            <li role="menuitem">
              <a title="Community-built tools and integrations that use the DigitalOcean API" href="/community/tools">Community Tools and Integrations</a>
            </li>
            <li role="menuitem"><a href="https://www.digitalocean.com/hatch/" title="Build your startup on DigitalOcean.">Hatch Startup Program</a></li>
            <li role="menuitem"><a href="https://marketplace.digitalocean.com/vendors/" title="List your open source One-Click Application in the DigitalOcean Marketplace">Marketplace Partner Program</a></li>
            <li role="menuitem"><a href="https://www.digitalocean.com/droplets-for-demos/" title="DigitalOcean credits to fund research for conference and meetup presentations">Presentation Grants</a></li>
            <li role="menuitem"><a href="https://github.com/digitalocean">DigitalOcean on GitHub</a></li>
          </ul>
        </div>
      </div>
    </li>
    <li role="menuitem" data-show="mobile" data-flex="grow" class="right">
      <a href="javascript:void(0);" data-js="modal_toggle">
        <span class="icon-menu-thin"></span>
      </a>
    </li>
    <li role="menuitem" aria-haspopup="true" data-flex="grow">
      <form name="do_nav-search" method="GET" action="https://www.digitalocean.com/community/search">
        <label for="q">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto"
               width="14px" height="14px">
            <use xlink:href="#do_nav-search"></use>
          </svg>
        </label>
        <input type="text" name="q" id="q" title="Search" placeholder="Search DigitalOcean" autocomplete="off" spellcheck="false" class="search" />
        </form>
        <div class="mini search-results-dropdown" aria-expanded="false">
            <div class="header-search-results-list"></div>
            <div id="btn-wrap">
              <a class="more-search-results" data-search-path="/community/search" href="/community/search">
                View All Results
              </a>
            </div>
        </div>
        <script type='text/template' id='autocomplete-hits-template'>
          <div class="inner-search">
            <ul>
              <li class="section">
                <p>{{section}}</p>
              </li>

              {{#hits}}
                <li>
                  <span class='icon icon-{{css_name}}'></span>
                  <a href='{{url}}'>{{title}}</a>
                </li>
              {{/hits}}
            </ul>

            {{#hasMoreResults}}
              <a href="/community/search?q={{query}}">View All Results</a>
            {{/hasMoreResults}}
          </div>
        </script>
    </li>
    <li role="menuitem">
      <a class="button primary" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
    </li>
  </ul>

  <div class="mobile_nav_bg" data-js="modal_toggle"></div>
  <div class="mobile_nav">
    <a data-dismiss='modal' aria-label="close" href="javascript:void(0);" data-js="modal_toggle"><span class="icon-close"></span></a>
    <div class="mobile_nav_content">
      <header>Community</header>
      <ul role="menu">
        <li role="menuitem">
          <a data-activatable="true" href="/community/tutorials">Tutorials</a>
        </li>
        <li role="menuitem">
          <a data-activatable="true" href="/community/questions">Questions</a>
        </li>
        <li role="menuitem">
          <a href="https://www.meetup.com/pro/digitalocean">Meetups</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/write-for-donations/">Write for us</a>
        </li>
        <li role="menuitem">
          <a href="https://hacktoberfest.digitalocean.com">Hacktoberfest</a>
        </li>
        <li role="menuitem">
          <a href="/community/tools">Community Projects</a>
        </li>
      </ul>
      <header>Products</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://www.digitalocean.com/">Homepage</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/pricing">Pricing</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/products">Product Overview</a>
        </li>
        <li role="menuitem">
          <a href="https://marketplace.digitalocean.com/">Marketplace</a>
        </li>
      </ul>
      <header>Customers</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://cloud.digitalocean.com/login">Control panel</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/docs/">Documentation</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/#support">Contact Support</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/sales/">Contact Sales</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header>
  <div class="legacy-header ">
    <div class="flash-container">
      
    </div>

    <div class="wrapper">
      
    </div>
  </div>
</header>



      

      <div class='wrapper layout-wrapper'>

        










<div class="section-content section-content-growable content Tutorial-content">
  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>
    <div class="author-byline">
      
    </div>

    <div class='right-section'>
      


        <div class='section-item table-of-contents-triggers'><div class="toc-trigger-mobile" data-toggle="modal" data-target="#contents-modal">
  <a href="javascript:void(0);">
    <span class="icon icon-contents"></span>
    <span class="title">Contents</span>
    <span class="icon icon-arrow-down"></span>
  </a>
</div>

</div>

    </div>
  </div>
</div>



  <div class="container tutorial-header">
    

      <div class="featured-items-right-bar">
        <h3>Related</h3>
          <a href="/community/tutorials/openvpn-access-server-centos">
            <div class="featured-item-regular">
                  How To Install and Configure an OpenVPN Access Server on CentOS 6.5
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="/assets/community/tutorials/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png" />
                    Tutorial
                  </span>
                </div>
</a>          <a href="/community/tutorials/how-to-setup-your-own-vpn-with-pptp">
            <div class="featured-item-regular">
                  How To Setup Your Own VPN With PPTP
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="/assets/community/tutorials/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png" />
                    Tutorial
                  </span>
                </div>
</a>      </div>



    <h1 class="content-title Tutorial-header">How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04</h1>

    <span class="meta-section timestamp"><span class="tutorial-date-text">Posted</span><span class="tutorial-date">February 17, 2017</span></span>

    <span class="meta-section pageviews"><span class="icon icon-eye v-mid"></span><span class="views-count v-mid">278k</span><span class="sr-only"> views</span></span>

    <span class="meta-section tags">
      <a class="tag" href="/community/tags/vpn?type=tutorials">VPN</a> <a class="tag" href="/community/tags/security?type=tutorials">Security</a>
      <a class="tag" href="/community/tags/ubuntu-16-04?type=tutorials">Ubuntu 16.04</a>
    </span>
  </div>

  <div class="tutorial-authors">
    <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="/community/users/namo">
            <img class="avatar avatar-large" src="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/users/avatars/large/9b76a4b444a292c57907497666c1f3e35af9fad8.jpg?1487351514" alt="9b76a4b444a292c57907497666c1f3e35af9fad8" />
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="/community/users/namo">Namo</a></p>

      <p>
          <a class="advice" href="https://www.digitalocean.com/community/write-for-digitalocean">Become an author</a>
      </p>
    </li>
  </ul>
</div>

  </div>

    <div class="container versioned-tutorial-group-navigation" data-versioned-tutorial-group-navigation>

  <div class="versioned-tutorial-group-navigation__header" data-versioned-tutorial-group-navigation-header>
    <h5 class="versioned-tutorial-group-navigation__heading">
        Not using <strong>Ubuntu 16.04</strong>? Choose a different version:
    </h5>
    <span class="versioned-tutorial-group-navigation__arrow">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 105.565 60.872"><path d="M2.526 46.087c-3.37 3.382-3.37 8.868 0 12.246 3.37 3.386 8.832 3.386 12.202 0l43.384-43.547c3.37-3.382 3.37-8.87 0-12.246-3.37-3.386-8.833-3.386-12.202 0L2.526 46.087z" fill="#fff"></path><path d="M90.835 58.333c3.37 3.386 8.833 3.386 12.202 0 3.37-3.378 3.37-8.864 0-12.246L59.654 2.54c-3.37-3.386-8.832-3.386-12.202 0-3.37 3.377-3.37 8.864 0 12.246l43.383 43.547z" fill="#fff"></path></svg>

    </span>
  </div>
  
  <div class="versioned-tutorial-group-navigation__body" data-versioned-tutorial-group-navigation-body>
    <ul class="versioned-tutorial-group-navigation__list">
      <li class="versioned-tutorial-group-navigation__list-item">
  <a class="versioned-tutorial-group-navigation__link" title="Ubuntu 18.04" href="/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-18-04-2">
    <span class="text">Ubuntu 18.04</span>
    <span class="icon-arrow-down versioned-tutorial-group-navigation__link-arrow"></span>
</a></li>

      <li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="12" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Automated: Docker">
    <span class="text">Automated: Docker</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="14" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Automated: Bash">
    <span class="text">Automated: Bash</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="13" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Automated: Ansible">
    <span class="text">Automated: Ansible</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="5" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="CentOS 7">
    <span class="text">CentOS 7</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="6" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Debian 9">
    <span class="text">Debian 9</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="7" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Debian 8">
    <span class="text">Debian 8</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="18" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Debian 10">
    <span class="text">Debian 10</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>
<li class="versioned-tutorial-group-navigation__list-item">
  <a data-tutorial-request data-distribution-version-id="2" data-versioned-tutorial-group-id="69" href="javascript:;" class="versioned-tutorial-group-navigation__link versioned-tutorial-group-navigation__link--unavailable" title="Ubuntu 14.04">
    <span class="text">Ubuntu 14.04</span>
    <small class="versioned-tutorial-group-navigation__request" data-tutorial-request-status-indicator>request</small>
  </a>
</li>


      <li class="versioned-tutorial-group-navigation__list-item">
        <a class="versioned-tutorial-group-navigation__link" title="How to Set Up an IKEv2 VPN Server with StrongSwan" href="/community/tutorial_collections/69">
          <span class="text">View All</span>
          <span class="icon-arrow-down versioned-tutorial-group-navigation__link-arrow"></span>
</a>      </li>

    </ul>
  </div>
</div>



    <div class="content-body tutorial-content" data-growable-markdown>
      
      <h3 id="introduction">Introduction</h3>

<p>A virtual private network, or VPN, allows you to securely encrypt traffic as it travels through untrusted networks, such as those at the coffee shop, a conference, or an airport.</p>

<p><a href="https://en.wikipedia.org/wiki/Internet_Key_Exchange">IKEv2</a>, or Internet Key Exchange v2, is a protocol that allows for direct IPSec tunneling between the server and client. In IKEv2 VPN implementations, IPSec provides encryption for the network traffic.  IKEv2 is natively supported on new platforms (OS X 10.11+,  iOS 9.1+, and Windows 10) with no additional applications necessary, and it handles client hiccups quite smoothly.</p>

<p>In this tutorial, you&rsquo;ll set up an IKEv2 VPN server using <a href="https://www.strongswan.org/">StrongSwan</a> on an Ubuntu 16.04 server and connect to it from Windows, iOS, and macOS clients.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To complete this tutorial, you will need:</p>

<ul>
<li>One Ubuntu 16.04 server with multiple CPUs, configured by following <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04">the Ubuntu 16.04 initial server setup guide</a>, including a sudo non-root user and a firewall.</li>
</ul>

<p>In addition, you should be familiar with IPTables. Review <a href="https://www.digitalocean.com/community/tutorials/how-the-iptables-firewall-works">How the Iptables Firewall Works</a> before you proceed.</p>

<h2 id="step-1-—-installing-strongswan">Step 1 — Installing StrongSwan</h2>

<p>First, we&rsquo;ll install StrongSwan, an open-source IPSec daemon which we&rsquo;ll configure as our VPN server. We&rsquo;ll also install the StrongSwan EAP plugin, which allows password authentication for clients, as opposed to certificate-based authentication. We&rsquo;ll need to create some special firewall rules as part of this configuration, so we&rsquo;ll also install a utility which allows us to make our new firewall rules persistent.</p>

<p>Execute the following command to install these components:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo apt-get install strongswan strongswan-plugin-eap-mschapv2 moreutils iptables-persistent
</li></ul></code></pre>
<p><span class='note'><strong>Note</strong>: While installing <code>iptables-persistent</code>, the installer will ask whether or not to save current IPv4 and IPv6 rules. As we want any previous firewall configurations to stay the same, we&rsquo;ll select yes on both prompts.<br></span></p>

<p>Now that everything&rsquo;s installed, let&rsquo;s move on to creating our certificates:</p>

<h2 id="step-2-—-creating-a-certificate-authority">Step 2 — Creating a Certificate Authority</h2>

<p>An IKEv2 server requires a certificate to identify itself to clients. To help us create the certificate required, StrongSwan comes with a utility to generate a certificate authority and server certificates. To begin, let&rsquo;s create a directory to store all the stuff we&rsquo;ll be working on.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">mkdir vpn-certs
</li><li class="line" prefix="$">cd vpn-certs
</li></ul></code></pre>
<p>Now that we have a directory to store everything, let&rsquo;s generate our root key. This will be a 4096-bit RSA key that will be used to sign our root certificate authority, so it&rsquo;s very important that we also secure this key by ensuring that only the <strong>root</strong> user can read it.</p>

<p>Execute these commands to generate and secure the key:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ipsec pki --gen --type rsa --size 4096 --outform pem &gt; <span class="highlight">server-root-key.pem</span>
</li><li class="line" prefix="$">chmod 600 <span class="highlight">server-root-key.pem</span>
</li></ul></code></pre>
<p>Now that we have a key, we can move on to creating our root certificate authority, using the key to sign the root certificate:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ipsec pki --self --ca --lifetime 3650 \
</li><li class="line" prefix="$">--in server-root-key.pem \
</li><li class="line" prefix="$">--type rsa --dn "<span class="highlight">C=US, O=VPN Server, CN=VPN Server Root CA</span>" \
</li><li class="line" prefix="$">--outform pem &gt; <span class="highlight">server-root-ca.pem</span>
</li></ul></code></pre>
<p>You can change the <em>distinguished name</em> (DN) values, such as country, organization, and  common name, to something else to if you want to. The common name here is just the indicator, so you could even make something up.</p>

<p>Later, we&rsquo;ll copy the root certificate (<code>server-root-ca.pem</code>) to our client devices so they can verify the authenticity of the server when they connect.</p>

<p>Now that we&rsquo;ve got our root certificate authority up and running, we can create a certificate that the VPN server will use.</p>

<h2 id="step-3-—-generating-a-certificate-for-the-vpn-server">Step 3 — Generating a Certificate for the VPN Server</h2>

<p>We&rsquo;ll now create a certificate and key for the VPN server. This certificate will allow the client to verify the server&rsquo;s authenticity.</p>

<p>First, create a private key for the VPN server with the following command:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ipsec pki --gen --type rsa --size 4096 --outform pem &gt; <span class="highlight">vpn-server-key.pem</span>
</li></ul></code></pre>
<p>Then create and sign the VPN server certificate with the certificate authority&rsquo;s key you created in the previous step. Execute the following command, but change the Common Name (CN) and the Subject Alternate Name (SAN) field to your VPN server&rsquo;s DNS name or IP address:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">ipsec pki --pub --in <span class="highlight">vpn-server-key.pem</span> \
</li><li class="line" prefix="$">--type rsa | ipsec pki --issue --lifetime 1825 \
</li><li class="line" prefix="$">--cacert <span class="highlight">server-root-ca.pem</span> \
</li><li class="line" prefix="$">--cakey <span class="highlight">server-root-key.pem</span> \
</li><li class="line" prefix="$">--dn "C=US, O=VPN Server, CN=<span class="highlight">server_name_or_ip</span>" \
</li><li class="line" prefix="$">--san <span class="highlight">server_name_or_ip</span> \
</li><li class="line" prefix="$">--flag serverAuth --flag ikeIntermediate \
</li><li class="line" prefix="$">--outform pem &gt; <span class="highlight">vpn-server-cert.pem</span>
</li></ul></code></pre>
<p>Copy the certificates to a path which would allow StrongSwan to read the certificates:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo cp ./<span class="highlight">vpn-server-cert.pem</span> <span class="highlight">/etc/ipsec.d/certs/vpn-server-cert.pem</span>
</li><li class="line" prefix="$">sudo cp ./<span class="highlight">vpn-server-key.pem</span> <span class="highlight">/etc/ipsec.d/private/vpn-server-key.pem</span>
</li></ul></code></pre>
<p>Finally, secure the keys so they can only be read by the <strong>root</strong> user.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo chown root <span class="highlight">/etc/ipsec.d/private/vpn-server-key.pem</span>
</li><li class="line" prefix="$">sudo chgrp root <span class="highlight">/etc/ipsec.d/private/vpn-server-key.pem</span>
</li><li class="line" prefix="$">sudo chmod 600 <span class="highlight">/etc/ipsec.d/private/vpn-server-key.pem</span>
</li></ul></code></pre>
<p>In this step, we&rsquo;ve created a certificate pair that would be used to secure communications between the client and the server. We&rsquo;ve also signed the certificates with our root key, so the client will be able to verify the authenticity of the VPN server. Now that we&rsquo;ve got all the certificates ready, we&rsquo;ll move on to configuring the software.</p>

<h2 id="step-4-—-configuring-strongswan">Step 4 — Configuring StrongSwan</h2>

<p>We&rsquo;ve already created all the certificates that we need, so it&rsquo;s time to configure StrongSwan itself.</p>

<p>StrongSwan has a default configuration file, but before we make any changes, let&rsquo;s back it up first so that we&rsquo;ll have a reference file just in case something goes wrong:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo cp /etc/ipsec.conf <span class="highlight">/etc/ipsec.conf.original</span>
</li></ul></code></pre>
<p>The example file is quite long, so to prevent misconfiguration, we&rsquo;ll clear the default configuration file and write our own configuration from scratch. First, clear out the original configuration:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">echo '' | sudo tee /etc/ipsec.conf
</li></ul></code></pre>
<p>Then open the file in your text editor:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/ipsec.conf
</li></ul></code></pre>
<p>First, we&rsquo;ll tell StrongSwan to log daemon statuses for debugging and allow duplicate connections. Add these lines to the file:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">config setup
  charondebug="ike 1, knl 1, cfg 0"
  uniqueids=no
</code></pre>
<p>Then, we&rsquo;ll create a configuration section for our VPN. We&rsquo;ll also tell StrongSwan to create IKEv2 VPN Tunnels and to automatically load this configuration section when it starts up. Append the following lines to the file:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">conn ikev2-vpn
  auto=add
  compress=no
  type=tunnel
  keyexchange=ikev2
  fragmentation=yes
  forceencaps=yes
</code></pre>
<p>Next, we&rsquo;ll tell StrongSwan which encryption algorithms to use for the VPN. Append these lines:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">  ike=aes256-sha1-modp1024,3des-sha1-modp1024!
  esp=aes256-sha1,3des-sha1!
</code></pre>
<p>We&rsquo;ll also configure dead-peer detection to clear any &ldquo;dangling&rdquo; connections in case the client unexpectedly disconnects. Add these lines:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">  dpdaction=clear
  dpddelay=300s
  rekey=no
</code></pre>
<p>Then  we&rsquo;ll configure the server (left) side IPSec parameters. Add this to the file:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">  left=%any
  leftid=<span class="highlight">@server_name_or_ip</span>
  leftcert=<span class="highlight">/etc/ipsec.d/certs/vpn-server-cert.pem</span>
  leftsendcert=always
  leftsubnet=0.0.0.0/0
</code></pre>
<span class='note'><p>
<strong>Note</strong>: When configuring the server ID (<code>leftid</code>), only include the <code>@</code> character if your VPN server will be identified by a domain name:</p>
<pre class="code-pre "><code langs="">  leftid=<span class="highlight">@vpn.example.com</span>
</code></pre>
<p>If the server will be identified by its IP address, just put the IP address in:</p>
<pre class="code-pre "><code langs="">  leftid=<span class="highlight">111.111.111.111</span>
</code></pre>
<p></p></span>

<p>Then we configure the client (right) side IPSec parameters, like the private IP address ranges and DNS servers to use:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">  right=%any
  rightid=%any
  rightauth=eap-mschapv2
  rightsourceip=<span class="highlight">10.10.10.0/24</span>
  rightdns=<span class="highlight">8.8.8.8,8.8.4.4</span>
  rightsendcert=never
</code></pre>
<p>Finally, we&rsquo;ll tell StrongSwan to ask the client for user credentials when they connect:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">  eap_identity=%identity
</code></pre>
<p>The configuration file should look like this:</p>
<div class="code-label " title="/etc/ipsec.conf">/etc/ipsec.conf</div><pre class="code-pre "><code langs="">config setup
    charondebug="ike 1, knl 1, cfg 0"
    uniqueids=no

conn ikev2-vpn
    auto=add
    compress=no
    type=tunnel
    keyexchange=ikev2
    fragmentation=yes
    forceencaps=yes
    ike=aes256-sha1-modp1024,3des-sha1-modp1024!
    esp=aes256-sha1,3des-sha1!
    dpdaction=clear
    dpddelay=300s
    rekey=no
    left=%any
    leftid=<span class="highlight">@server_name_or_ip</span>
    leftcert=/etc/ipsec.d/certs/vpn-server-cert.pem
    leftsendcert=always
    leftsubnet=<span class="highlight">0.0.0.0/0</span>
    right=%any
    rightid=%any
    rightauth=eap-mschapv2
    rightdns=<span class="highlight">8.8.8.8,8.8.4.4</span>
    rightsourceip=<span class="highlight">10.10.10.0/24</span>
    rightsendcert=never
    eap_identity=%identity
</code></pre>
<p>Save and close the file once you&rsquo;ve verified that you&rsquo;ve configured things as shown.</p>

<p>Now that we&rsquo;ve configured the VPN parameters, let&rsquo;s move on to creating an account so our users can connect to the server.</p>

<h2 id="step-5-—-configuring-vpn-authentication">Step 5 — Configuring VPN Authentication</h2>

<p>Our VPN server is now configured to accept client connections, but we don&rsquo;t have any credentials configured yet, so we&rsquo;ll need to configure a couple things in a special configuration file called <code>ipsec.secrets</code>:</p>

<ul>
<li>We need to tell StrongSwan where to find the private key for our server certificate, so the server will be able to encrypt and decrypt data.</li>
<li>We also need to set up a list of users that will be allowed to connect to the VPN.</li>
</ul>

<p>Let&rsquo;s open the secrets file for editing:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/ipsec.secrets
</li></ul></code></pre>
<p>First, we&rsquo;ll tell StrongSwan where to find our private key.</p>
<div class="code-label " title="/etc/ipsec.secrets">/etc/ipsec.secrets</div><pre class="code-pre "><code langs=""><span class="highlight">server_name_or_ip</span> : RSA <span class="highlight">"/etc/ipsec.d/private/vpn-server-key.pem"</span>
</code></pre>
<p>Then we&rsquo;ll create the user credentials. You can make up any username or password combination that you like, but we have to tell StrongSwan to allow this user to connect from anywhere:</p>
<div class="code-label " title="/etc/ipsec.secrets">/etc/ipsec.secrets</div><pre class="code-pre "><code langs=""><span class="highlight">your_username</span> %any% : EAP <span class="highlight">"your_password"</span>
</code></pre>
<p>Save and close the file. Now that we&rsquo;ve finished working with the VPN parameters, we&rsquo;ll reload the VPN service so that our configuration would be applied:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ipsec reload
</li></ul></code></pre>
<p>Now that the VPN server has been fully configured with both server options and user credentials, it&rsquo;s time to move on to configuring the most important part: the firewall.</p>

<h2 id="step-6-—-configuring-the-firewall-amp-kernel-ip-forwarding">Step 6 — Configuring the Firewall &amp; Kernel IP Forwarding</h2>

<p>Now that we&rsquo;ve got the VPN server configured, we need to configure the firewall to forward and allow VPN traffic through. We&rsquo;ll use IPTables for this.</p>

<p>First, disable UFW if you&rsquo;ve set it up, as it can conflict with the rules we need to configure:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo ufw disable
</li></ul></code></pre>
<p>Then remove any remaining firewall rules created by UFW:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">iptables -P INPUT ACCEPT
</li><li class="line" prefix="$">iptables -P FORWARD ACCEPT
</li><li class="line" prefix="$">iptables -F
</li><li class="line" prefix="$">iptables -Z
</li></ul></code></pre>
<p>To prevent us from being locked out of the SSH session, we&rsquo;ll accept connections that are already accepted. We&rsquo;ll also open port <code>22</code> (or whichever port you&rsquo;ve configured) for future SSH connections to the server. Execute these commands:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
</li><li class="line" prefix="$">sudo iptables -A INPUT -p tcp --dport <span class="highlight">22</span> -j ACCEPT
</li></ul></code></pre>
<p>We&rsquo;ll also need to accept connections on the local loopback interface:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -A INPUT -i lo -j ACCEPT
</li></ul></code></pre>
<p>Then we&rsquo;ll tell IPTables to accept IPSec connections:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -A INPUT -p udp --dport  500 -j ACCEPT
</li><li class="line" prefix="$">sudo iptables -A INPUT -p udp --dport 4500 -j ACCEPT
</li></ul></code></pre>
<p>Next, we&rsquo;ll tell IPTables to forward <a href="https://wiki.wireshark.org/ESP">ESP</a> (Encapsulating Security Payload) traffic so the VPN clients will be able to connect. ESP  provides additional security for our VPN packets as they&rsquo;re traversing untrusted networks:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -A FORWARD --match policy --pol ipsec --dir in  --proto esp -s <span class="highlight">10.10.10.10/24</span> -j ACCEPT
</li><li class="line" prefix="$">sudo iptables -A FORWARD --match policy --pol ipsec --dir out --proto esp -d <span class="highlight">10.10.10.10/24</span> -j ACCEPT
</li></ul></code></pre>
<p>Our VPN server will act as a gateway between the VPN clients and the internet. Since the VPN server will only have a single public IP address, we will need to configure masquerading to allow the server to request data from the internet on behalf of the clients; this will allow traffic to flow from the VPN clients to the internet, and vice-versa:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -t nat -A POSTROUTING -s <span class="highlight">10.10.10.10/24</span> -o eth0 -m policy --pol ipsec --dir out -j ACCEPT
</li><li class="line" prefix="$">sudo iptables -t nat -A POSTROUTING -s <span class="highlight">10.10.10.10/24</span> -o eth0 -j MASQUERADE
</li></ul></code></pre>
<p>To prevent IP packet fragmentation on some clients, we&rsquo;ll tell IPTables to reduce the size of packets by adjusting the packets&rsquo; maximum segment size. This prevents issues with some VPN clients.</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -t mangle -A FORWARD --match policy --pol ipsec --dir in -s <span class="highlight">10.10.10.10/24</span> -o eth0 -p tcp -m tcp --tcp-flags SYN,RST SYN -m tcpmss --mss 1361:1536 -j TCPMSS --set-mss 1360
</li></ul></code></pre>
<p>For better security, we&rsquo;ll drop everything else that does not match the rules we&rsquo;ve configured:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo iptables -A INPUT -j DROP
</li><li class="line" prefix="$">sudo iptables -A FORWARD -j DROP
</li></ul></code></pre>
<p>Now we&rsquo;ll make the firewall configuration persistent, so that all our configuration work won&rsquo;t get wiped on reboot:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo netfilter-persistent save
</li><li class="line" prefix="$">sudo netfilter-persistent reload
</li></ul></code></pre>
<p>Finally, we&rsquo;ll enable packet forwarding on the server. Packet forwarding is what makes it possible for our server to &ldquo;route&rdquo; data from one IP address to the other. Essentially, we&rsquo;re making our server act like a router.</p>

<p>Edit the file <code>/etc/sysctl.conf</code>:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/sysctl.conf
</li></ul></code></pre>
<p>We&rsquo;ll need to configure a few things here:</p>

<ul>
<li>First, we&rsquo;ll enable IPv4 packet forwarding.</li>
<li>We&rsquo;ll disable Path MTU discovery to prevent packet fragmentation problems.</li>
<li>We also won&rsquo;t accept ICMP redirects nor send ICMP redirects to prevent <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack">man-in-the-middle</a> attacks.</li>
</ul>

<p>The changes you need to make to the file are highlighted in the following code:</p>
<div class="code-label " title="/etc/sysctl.conf">/etc/sysctl.conf</div><pre class="code-pre "><code langs="">
. . .

# Uncomment the next line to enable packet forwarding for IPv4
<span class="highlight">net.ipv4.ip_forward=1</span>

. . .

# Do not accept ICMP redirects (prevent MITM attacks)
<span class="highlight">net.ipv4.conf.all.accept_redirects = 0</span>
# Do not send ICMP redirects (we are not a router)
<span class="highlight">net.ipv4.conf.all.send_redirects = 0</span>

. . .

<span class="highlight">net.ipv4.ip_no_pmtu_disc = 1</span>
</code></pre>
<p>Make those changes, save the file, and exit the editor. Then restart the server:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">sudo reboot
</li></ul></code></pre>
<p>You&rsquo;ll get disconnected from the server as it reboots, but that&rsquo;s expected. After the server reboots, log back in to the server as the sudo, non-root user. You&rsquo;re ready to test the connection on a client.</p>

<h2 id="step-7-–-testing-the-vpn-connection-on-windows-ios-and-macos">Step 7 – Testing the VPN Connection on Windows, iOS, and macOS</h2>

<p>Now that you have everything set up, it&rsquo;s time to try it out. First, you&rsquo;ll need to copy the root certificate you created and install it on your client device(s) that will connect to the VPN. The easiest way to do this is to log into your server and execute this command to display the contents of the certificate file:</p>
<pre class="code-pre command"><code langs=""><ul class="prefixed"><li class="line" prefix="$">cat ~/vpn-certs/server-root-ca.pem
</li></ul></code></pre>
<p>You&rsquo;ll see output similar to this:</p>
<pre class="code-pre "><code langs=""><div class="secondary-code-label " title="Output">Output</div>-----BEGIN CERTIFICATE-----
MIIFQjCCAyqgAwIBAgIIFkQGvkH4ej0wDQYJKoZIhvcNAQEMBQAwPzELMAkGA1UE

. . .

EwbVLOXcNduWK2TPbk/+82GRMtjftran6hKbpKGghBVDPVFGFT6Z0OfubpkQ9RsQ
BayqOb/Q
-----END CERTIFICATE-----
</code></pre>
<p>Copy this output to your computer, including the <code>-----BEGIN CERTIFICATE-----</code> and   <code>-----END CERTIFICATE-----</code> lines, and save it to a file with a recognizable name, such as <code>vpn_root_certificate.pem</code>. Ensure the file you create has the <code>.pem</code> extension.</p>

<p>Alternatively, <a href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server">use SFTP to transfer the file to your computer</a>.</p>

<p>Once you have the <code>vpn_root_certificate.pem</code> file downloaded to your computer, you can set up the connection to the VPN.</p>

<h3 id="connecting-from-windows">Connecting from Windows</h3>

<p>First, import the root certificate by following these steps:</p>

<ol>
<li>Press <code>WINDOWS+R</code> to bring up the <strong>Run</strong> dialog, and enter <code>mmc.exe</code> to launch the Windows Management Console.</li>
<li>From the <strong>File</strong> menu, navigate to <strong>Add or Remove Snap-in</strong>, select <strong>Certificates</strong> from the list of available snap-ins, and click <strong>Add</strong>.</li>
<li>We want the VPN to work with any user, so select <strong>Computer Account</strong> and click <strong>Next</strong>.</li>
<li>We&rsquo;re configuring things on the local computer, so select <strong>Local Computer</strong>, then click <strong>Finish</strong>.</li>
<li><p>Under the <strong>Console Root</strong> node, expand the <strong>Certificates (Local Computer)</strong> entry,  expand <strong>Trusted Root Certification Authorities</strong>, and then select the <strong>Certificates</strong> entry:<br>
<img src="https://assets.digitalocean.com/articles/ikevpn_ubuntu_1604/4PN0vT6.png" alt="Certificates view"></p></li>
<li><p>From the <strong>Action</strong> menu, select <strong>All Tasks</strong> and click <strong>Import</strong> to display the Certificate Import Wizard. Click <strong>Next</strong> to move past the introduction.</p></li>
<li><p>On the <strong>File to Import</strong> screen, press the <strong>Browse</strong> button and select the certificate file that you&rsquo;ve saved. Then click <strong>Next</strong>.</p></li>
<li><p>Ensure that the <strong>Certificate Store</strong> is set to <strong>Trusted Root Certification Authorities</strong>, and click <strong>Next</strong>.</p></li>
<li><p>Click <strong>Finish</strong> to import the certificate.</p></li>
</ol>

<p>Then configure the VPN with these steps:</p>

<ol>
<li>Launch <strong>Control Panel</strong>, then navigate to the <strong>Network and Sharing Center</strong>.</li>
<li>Click on <strong>Set up a new connection or network</strong>, then select <strong>Connect to a workplace</strong>.</li>
<li>Select <strong>Use my Internet connection (VPN)</strong>.</li>
<li>Enter the VPN server details. Enter the server&rsquo;s domain name or IP address in the <strong>Internet address</strong> field, then fill in <strong>Destination name</strong> with something that describes your VPN connection. Then click <strong>Done</strong>.</li>
</ol>

<p>Your new VPN connection will be visible under the list of networks. Select the VPN and click <strong>Connect</strong>.  You&rsquo;ll be prompted for your username and password. Type them in, click <strong>OK</strong>, and you&rsquo;ll be connected.</p>

<h3 id="connecting-from-ios">Connecting from iOS</h3>

<p>To configure the VPN connection on an iOS device, follow these steps:</p>

<ol>
<li>Send yourself an email with the root certificate attached.</li>
<li>Open the email on your iOS device and tap on the attached certificate file, then tap <strong>Install</strong> and enter your passcode. Once it installs, tap <strong>Done</strong>.</li>
<li>Go to <strong>Settings</strong>, <strong>General</strong>, <strong>VPN</strong> and tap <strong>Add VPN Configuration</strong>. This will bring up the VPN connection configuration screen.</li>
<li>Tap on <strong>Type</strong> and select <strong>IKEv2</strong>.</li>
<li>In the <strong>Description</strong> field, enter a short name for the VPN connection. This could be anything you like.</li>
<li>In the <strong>Server</strong> and <strong>Remote ID</strong> field, enter the server&rsquo;s domain name or IP address. The <strong>Local ID</strong> field can be left blank.</li>
<li>Enter your username and password in the <strong>Authentication</strong> section, then tap <strong>Done</strong>.</li>
<li>Select the VPN connection that you  just created, tap the switch on the top of the page, and you&rsquo;ll be connected.</li>
</ol>

<h3 id="connecting-from-macos">Connecting from macOS</h3>

<p>Follow these steps to import the certificate:</p>

<ol>
<li>Double-click the certificate file.  <strong>Keychain Access</strong> will pop up with a dialog that says &ldquo;Keychain Access is trying to modify the system keychain. Enter your password to allow this.&rdquo;</li>
<li>Enter your password, then click on <strong>Modify Keychain</strong></li>
<li>Double-click the newly imported VPN certificate. This brings up a small properties window where you can specify the trust levels.  Set <strong>IP Security (IPSec)</strong> to <strong>Always Trust</strong> and you&rsquo;ll be prompted for your password again. This setting saves automatically after entering the password.</li>
</ol>

<p>Now that the certificate is important and trusted, configure the VPN connection with these steps:</p>

<ol>
<li>Go to <strong>System Preferences</strong> and choose <strong>Network</strong>. </li>
<li>Click on the small &ldquo;plus&rdquo; button on the lower-left of the list of networks.</li>
<li>In the popup that appears, Set <strong>Interface</strong> to <strong>VPN</strong>, set the <strong>VPN Type</strong> to  <strong>IKEv2</strong>,  and give the connection a name.</li>
<li>In the <strong>Server</strong> and <strong>Remote ID</strong> field, enter the server&rsquo;s domain name or IP address.  Leave the <strong>Local ID</strong> blank.</li>
<li>Click on <strong>Authentication Settings</strong>, select <strong>Username</strong>,  and enter your username and password you configured for your VPN user. Then click <strong>OK</strong>.</li>
</ol>

<p>Finally, click on <strong>Connect</strong> to connect to the VPN. You should now be connected to the VPN.</p>

<h3 id="troubleshooting-connections">Troubleshooting Connections</h3>

<p>If you are unable to import the certificate, ensure the file has the <code>.pem</code> extention, and not <code>.pem.txt</code>. </p>

<p>If you&rsquo;re unable to connect to the VPN, check the server name or IP address you used. The server&rsquo;s domain name or IP address must match what you&rsquo;ve configured as the common name (CN) while creating the certificate. If they don&rsquo;t match,  the VPN connection won&rsquo;t work. If you set up a certificate with the CN of <code>vpn.example.com</code>, you <em>must</em> use <code>vpn.example.com</code> when you enter the VPN server details. Double-check the command you used to generate the certificate, and the values you used when creating your VPN connection.</p>

<p>Finally, double-check the VPN configuration to ensure the <code>leftid</code> value is configured with the <code>@</code> symbol if you&rsquo;re using a domain name:</p>
<pre class="code-pre "><code langs="">  leftid=<span class="highlight">@</span>vpn.example.com
</code></pre>
<p>And if you&rsquo;re using an IP address, ensure that the <code>@</code> symbol is omitted.</p>

<h2 id="conclusion">Conclusion</h2>

<p>In this tutorial, you&rsquo;ve built a VPN server that uses the IKEv2 protocol. Now you can be assured that your online activities will remain secure wherever you go!</p>

<p>To add or remove users, just take a look at Step 5 again. Each line is for one user, so adding or removing users is as simple as editing the file.</p>

<p>From here, you might want to look into setting up a log file analyzer, because StrongSwan dumps its logs into syslog. The tutorial  <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-logwatch-log-analyzer-and-reporter-on-a-vps">How To Install and Use Logwatch Log Analyzer and Reporter on a VPS</a> has more information on setting that up.</p>

<p>You might also be interested in <a href="https://www.eff.org/wp/effs-top-12-ways-protect-your-online-privacy">this guide from the EFF about online privacy</a>.</p>

    </div>
</div>

<div class="tutorial-footer">
  
<div class='tutorial-footer-details'>

  <div class='postable-info-bar-container'>
  <div class='postable-info-bar'>

    <div class="author-byline">
      <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="/community/users/namo">
            <img class="avatar avatar-large" src="https://community-cdn-digitalocean-com.global.ssl.fastly.net/assets/users/avatars/large/9b76a4b444a292c57907497666c1f3e35af9fad8.jpg?1487351514" alt="9b76a4b444a292c57907497666c1f3e35af9fad8" />
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="/community/users/namo">Namo</a></p>

      <p>
      </p>
    </li>
  </ul>
</div>

    </div>
  </div>
</div>


  <div class='section-content tutorial-contributors two'>
    <div class="component-collaborators-container">
      <ul class="component-collaborators-content">

          <li class="collaborator-byline-avatar">
            <a href="/community/users/bhogan">
                <div class="mod-avatar mod-avatar-large"><img alt="bhogan" class="avatar avatar-large" src="https://secure.gravatar.com/avatar/d753bf40d7283f16ec0db2c9b0d18b58?secure=true&d=identicon" width="80" height="80" /><span class="mod-star" title="MOD" data-toggle="tooltip" data-container="body"><span class="mod-star-icon" /></span></div>
</a>          </li>


        <li class="collaborators-byline-data">
            <p class="names">Editor: <a href="/community/users/bhogan">Brian Hogan</a></p>
        </li>
      </ul>
    </div>
  </div>

    
<div class="hsb--content">
  <div class="hsb--undo hsb--hide">
    <span class="icon icon-helpfulness-upvoted"></span>
    <span class="hsb--question">You rated this helpful.</span>
    <button name="button" type="submit" class="hsb--button-down hsb--vote-down-js" data-upvotable-type="Tutorial">Undo</button>
  </div>

  <div class="hsb--flagging-undo hsb--hide">
    <span class="icon icon-helpfulness-flag"></span>
    <span class="hsb--question">You reported this tutorial.</span>
    <button name="button" type="submit" class="hsb--button-down hsb--unflagging-js">Undo</button>
  </div>

  <div class="hsb--do">
    <span class="hsb--question">Was this helpful?</span>
    <button name="button" type="submit" class="hsb--button hsb--vote-up-js" data-upvotable-id="2261" data-upvotable-type="Tutorial">Yes</button>
    <button name="button" type="submit" class="hsb--button hsb--flagging-js" data-url="/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04/flag" data-flaggable-id="2261">No</button>
  </div>

  <div class="hsb--social-and-comments">
    <div class="hsb--social-sharing">
      <a target="_blank" class="share-popup" href="http://twitter.com/share?text=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;url=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=twshare">
        <span class="icon icon-helpfulness-twitter"></span>
</a>
      <a target="_blank" class="share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=fbshare">
        <span class="icon icon-helpfulness-facebook"></span>
</a>
      <a target="_blank" class="share-popup" href="https://news.ycombinator.com/submitlink?t=How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04&amp;u=https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04?utm_content=how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04&amp;utm_medium=community&amp;utm_source=hnshare">
        <span class="icon icon-helpfulness-hacker-news"></span>
</a>    </div>

    <div class="hsb--comment">
      <span class="icon icon-helpfulness-comment"></span>
      <strong class="amount">85</strong>
    </div>
  </div>
</div>


</div>


  
    <div class='related-tutorials'>
    <div class='section-content'>
      <h2>Related</h2>

      <ul>
        <li title="How To Install and Configure an OpenVPN Access Server on CentOS 6.5">
  <a class="panel" href="/community/tutorials/openvpn-access-server-centos">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Install and Configure an OpenVPN Access Server on CentOS 6.5</h5>
      <p>OpenVPN is a VPN implementation that works on Linux, Windows, and Mac operating systems and can be utilized to create complex, encrypted networks between physically dispersed servers.  In this guide, we will set up the OpenVPN Access Server on CentOS 6.5.  This can be used to automatically create VPN credentials for users and allow you to manage users and settings through a web-based interface.</p>
    </div>
  </a>
</li>
<li title="How To Setup Your Own VPN With PPTP">
  <a class="panel" href="/community/tutorials/how-to-setup-your-own-vpn-with-pptp">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>How To Setup Your Own VPN With PPTP</h5>
      <p>A Point-To-Point Tunneling Protocol (PPTP) allows you to implement your own VPN very quickly, and is compatible with most mobile devices. Even though PPTP is less secure than OpenVPN, it is faster and uses less CPU resources. </p>
    </div>
  </a>
</li>

      </ul>
    </div>
  </div>


  <div class='looking-for-an-answer'>
  <div class='section-content'>
    <h4>Still looking for an answer?</h4>

    <div class="lfa--actions">
      <a href="/community/questions/new?tags=VPN%2CSecurity" class="lfa--action-box">
        <span class="icon icon-look-for-answer-question"></span>
        Ask a question
      </a>
      <a href="#q" class="lfa--action-box">
        <span class="icon icon-look-for-answer-search-thin"></span>
        Search for more help
      </a>
    </div>
  </div>
</div>

</div>

<div class="content-comments">
  <div class="section-content">
    <div class="tutorial commentable" id="tutorial_2261">

  <div class="comments-header">
    <h4 class="comments-count">
        <span>85 Comments</span>
    </h4>
  </div>

    <div class="response response-form no-avatar">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form disabled-form" id="new_comment" action="/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="&#x2713;" />

    <textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content tutorial-comment-field" data-markdown="true">
</textarea>

      <div class="log-in-notice "><a href="/community/auth/digitalocean">Log In to Comment</a></div>

    <div class='clearfix'></div>
</form>
</div>


  <div class="comments">
    <ul class="response-list">
          <a class="js-click-on-load hidden" rel="nofollow" data-remote="true" href="/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04/comments">Load</a>
    </ul>

      <div class='comments-spinner'><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div>
  </div>

  <div class='load-more-container'></div>
</div>


  </div>
</div>

<div class="creative-commons">
  <a class="creative-commons-image" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img rel="license" alt="Creative Commons License" src="/assets/community/creativecommons-08b32a9279fcd47fcd78ac6a26331389.png" /></a>
    <div class="license-text">This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</div>






        <div class="clearfix"></div>
      </div>

            <footer>
        <section>
            <a href="https://www.digitalocean.com/write-for-donations/" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/70910e9fdeb57be46aaa209ce8d9b4dc8e117fab_w4do2.jpg" alt="">
            </div>
            <span class="heading">Become a contributor</span>
            <p>
                You get paid; we donate to tech nonprofits.
            </p>
          </a>
            <a href="https://www.meetup.com/pro/digitalocean" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/2491485f96735e5982e330914d8a617f85395fab_meetups.jpg" alt="">
            </div>
            <span class="heading">Connect with other developers</span>
            <p>
                Find a DigitalOcean Meetup near you.
            </p>
          </a>
            <a href="https://www.digitalocean.com/community/newsletter" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/ca12c951cc76f33037f3384bba9942545d160d82_iaan_illo.jpg" alt="">
            </div>
            <span class="heading">Get our biweekly newsletter</span>
            <p>
                Sign up for Infrastructure as a Newsletter.
            </p>
          </a>
      </section>
      <section class="slim ">
        <span class="heading">Featured on Community</span>
            <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">Intro to Kubernetes</a>
            <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">Learn Python 3</a>
            <a href="https://www.digitalocean.com/community/tutorials/machine-learning-projects-python-a-digitalocean-ebook">Machine Learning in Python</a>
            <a href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go">Getting started with Go</a>
            <a href="https://www.digitalocean.com/community/tutorial_series/from-containers-to-kubernetes-with-node-js">Migrate Node.js to Kubernetes</a>
        <hr>
        <span class="heading">DigitalOcean Products</span>
            <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
            <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
            <a href="https://www.digitalocean.com/products/kubernetes/">Managed Kubernetes</a>
            <a href="https://www.digitalocean.com/products/spaces/">Spaces Object Storage</a>
            <a href="https://marketplace.digitalocean.com/">Marketplace</a>
      </section>
        <section class="product">
          <a class="copy" href="/products">
            <h3>Welcome to the developer cloud</h3>
            <p>DigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.</p>
            <span class="link_text">Learn More</a>
          </div>
          <div class="feature">
            <a class="img_wrap" href="/products">
              <img class="photo" src="https://digitalocean.cdn.prismic.io/digitalocean/95c1215227aa7f39f2bd23076de28feb969741c7_cloud.digitalocean.com_projects_63f9252f-652b-4645-9c0c-bee96f2bc503_resources_ic0ce81-2.png" alt="DigitalOcean Cloud Control Panel">
            </a>
          </div>
        </section>
        <section class="dark">
          <div class="vlist grow">
            <a href="https://www.digitalocean.com">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50">
                <title>DigitalOcean Homepage</title>
                <g fill="#0080FF" fill-rule="evenodd">
                  <path
                    d="M24.9153 50v-9.661c10.226 0 18.1638-10.1413 14.2372-20.904-1.4406-3.983-4.6327-7.1751-8.6158-8.6158C19.774 6.921 9.6327 14.8305 9.6327 25.0565H0C0 8.7571 15.7627-3.9548 32.8531 1.3842c7.4576 2.3446 13.418 8.2768 15.7345 15.7344C53.9266 34.2373 41.2429 50 24.9153 50">
                  </path>
                  <path
                    d="M15.339 40.3672h9.6045v-9.6045H15.339zM7.9379 47.7684h7.401v-7.4012H7.938zM1.7514 40.3672H7.938v-6.1864H1.7514z">
                  </path>
                </g>
              </svg>
            </a>
            <br><br>
            © <script type="text/javascript">
              document.write(new Date().getFullYear());

            </script> DigitalOcean, LLC. All rights reserved.
          </div>

              <div class="vlist">
                <span class="heading">Company</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/about/">About</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/about/leadership/">Leadership</a>
                    </li>
                    <li>
                      <a href="https://blog.digitalocean.com/">Blog</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/careers/">Careers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/partners/">Partners</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/referral-program/">Referral Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/press/">Press</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/legal/">Legal &amp; Security</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Products</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/products/">Products Overview</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/pricing/">Pricing</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/kubernetes/">Kubernetes</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/spaces/">Spaces</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/marketplace/">Marketplace</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/load-balancer/">Load Balancers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/block-storage/">Block Storage</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/tools-and-integrations/">Tools &amp; Integrations</a>
                    </li>
                    <li>
                      <a href="https://developers.digitalocean.com/documentation/">API</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs">Documentation</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs/release-notes/">Release Notes</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Community</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/community/tutorials">Tutorials</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/questions">Q&amp;A</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tools">Tools and Integrations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tags">Tags</a>
                    </li>
                    <li>
                      <a href="https://ideas.digitalocean.com/">Product Ideas</a>
                    </li>
                    <li>
                      <a href="https://www.meetup.com/pro/digitalocean/?utm_source=do_www">Meetups</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/write-for-donations/">Write for DOnations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/droplets-for-demos/">Droplets for Demos</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/hatch/">Hatch Startup Program</a>
                    </li>
                    <li>
                      <a href="http://store.digitalocean.com/">Shop Swag</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/research/">Research Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/currents/">Currents Research</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/open-source/">Open Source</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Contact</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/support/">Support</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/sales/">Sales</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/#abuse">Report Abuse</a>
                    </li>
                    <li>
                      <a href="https://status.digitalocean.com/">System Status</a>
                    </li>
                </ul>
              </div>
        </section>
      </footer>


      <div id='sign-in-modal' class='modal fade mini-modal' style="display: none;">
  <div class='modal-dialog'>
    <div class='modal-content'>
      <div class='modal-header'>
        <h1>Almost there!</h1>
        <a class='close-button' data-dismiss='modal' aria-label="close"  href=''><span class='icon icon-close-light'></span></a>
      </div>
      <div class='modal-body'>
        <div class='sign-in-message'>Sign into your account, or create a new one, to start interacting.</div>

        <div class='sign-in-modal-actions'>
          <a class="sign-in-link button blue-button" data-default-url="/community/auth/digitalocean" href="/community/auth/digitalocean">Log In</a>
          <a class="sign-up-link button blue-button" data-default-url="/community/auth/digitalocean?display=sessionless+register" href="/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
        </div>
      </div>
    </div>
  </div>
</div>



      <script>
    $(function() {
      var dropDownOptions = {};
      

      VTGNavigationDropdown($('[data-versioned-tutorial-group-navigation]'), dropDownOptions);
      createTutorialRequest({
        $tutorialRequestLinks: $("[data-tutorial-request]"),
        tutorialRequestStatusSelector: "[data-tutorial-request-status-indicator]",
        tutorialRequestUrl: "/community/api/tutorial_requests",
      });
    });
  </script>
  <script>
    $(function() {
      window.initHelpfulnessActions(2261);
    });
  </script>
  <script>
    $(function() {
      var p, h5, panel, remainingSpace;
      var lineHeight = 31, clamp = 1;

      var panels = document.querySelectorAll('li .panel-data');

      for (var i = 0, len = panels.length; i < len; i++) {
        panel = panels[i];

        p = panel.querySelector('p');
        h5 = panel.querySelector('h5');
        remainingSpace = panel.offsetHeight - h5.offsetHeight;

        // Clamp text only when the remaining space isn't enought for p content.
        if (remainingSpace < p.scrollHeight) {
          clamp = parseInt(p.offsetHeight / lineHeight);

          p.style.cssText = "-webkit-line-clamp:" + clamp +
            "; display: -webkit-box; -webkit-box-orient: vertical;";
        }
      }
    });
  </script>

  <script>
    $(function() {
      if (!!window.init_sharing) {
        window.init_sharing();
      }
      new window.NewsletterSignup();
      new window.GrowableMarkdown({ target: '[data-growable-markdown]' });
    });
  </script>
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"Article","name":"How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04","headline":"How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04","alternativeHeadline":"How to Set Up an IKEv2 VPN Server with StrongSwan on Ubuntu 16.04","description":"A virtual private network, or VPN, allows you to securely encrypt traffic as it travels through untrusted networks, such as those at the coffee shop, a conference, or an airport. IKEv2, or Internet Key Exchange v2, is a...","keywords":"VPN,Security","url":"https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.digitalocean.com/community/tutorials/how-to-set-up-an-ikev2-vpn-server-with-strongswan-on-ubuntu-16-04"},"dateModified":"2017-04-19T14:20:18Z","inLanguage":"en","accessMode":"textual","accessModeSufficient":"textual","isAccessibleForFree":true,"license":"https://creativecommons.org/licenses/by-nc-sa/4.0/","publishingPrinciples":"https://www.digitalocean.com/community/tutorials/technical-recommendations-and-best-practices-for-digitalocean-s-tutorials","author":[{"@type":"Person","name":"Namo","@id":"https://www.digitalocean.com/community/users/namo"}],"datePublished":"2017-02-17T15:38:24Z","editor":{"@type":"Person","name":"Brian Hogan","@id":"bhogan"},"image":{"@type":"ImageObject","url":"https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg","height":375,"width":750},"interactionStatistic":[{"@type":"InteractionCounter","interactionType":"http://schema.org/LikeAction","userInteractionCount":"29"},{"@type":"InteractionCounter","interactionType":"http://schema.org/CommentAction","userInteractionCount":"55"}],"sourceOrganization":{"@type":"Organization","name":"DigitalOcean Community","url":"https://www.digitalocean.com/community"},"publisher":{"@type":"Organization","name":"DigitalOcean","url":"https://www.digitalocean.com","logo":{"@type":"ImageObject","url":"https://assets.digitalocean.com/logos/DO_Logo_horizontal_blue.png","width":351,"height":60}}}
  </script>


    
  </body>
</html>
